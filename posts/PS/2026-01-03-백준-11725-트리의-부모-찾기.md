# 11725 - íŠ¸ë¦¬ì˜ ë¶€ëª¨ ì°¾ê¸°

ì´ ë¬¸ì œëŠ” íŠ¸ë¦¬ë¥¼ ì…ë ¥ë°›ì€ ë’¤ ê·¸ë˜í”„ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•´ ë…¸ë“œ 1ë¶€í„° ì‹œì‘í•´ ì¸ì ‘ ë…¸ë“œë¥¼ ìˆœíšŒí•˜ë©´ì„œ, ì¸ì ‘ ë…¸ë“œì˜ ë¶€ëª¨ ë…¸ë“œë¥¼ ê²°ì •í•˜ë©´ ë˜ëŠ” ë¬¸ì œì´ë‹¤. BFS ë˜ëŠ” DFSë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©´ ëœë‹¤.

[ğŸ”— ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/11725)

## ì½”ë“œ
ë¨¼ì € Nì„ ì…ë ¥ë°›ì€ ë’¤ íŠ¸ë¦¬ë¥¼ ì €ì¥í•  ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ `tree`ì™€ ê° ë…¸ë“œë³„ ë¶€ëª¨ë¥¼ ì €ì¥í•  `parents` ë°°ì—´ì„ ì„ ì–¸í•œë‹¤. ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ì˜ ê²½ìš° `ArrayList<Integer>`ì˜ ì°¸ì¡°ë¥¼ ì›ì†Œë¡œ ê°€ì§€ëŠ” ë°°ì—´ë¡œ ì„ ì–¸í•œ ë’¤, ê° ì›ì†Œì— ëŒ€í•´ ArrayList ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ ì°¸ì¡°í•˜ê²Œ í•œë‹¤.
```java
class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    public static void main(String[] args) throws IOException {
        int N = Integer.parseInt(br.readLine());
        
        @SuppressWarnings("unchecked")
        ArrayList<Integer>[] tree = new ArrayList[N+5];
        int[] parents = new int[N+5];

        for (int i = 1; i <= N; i++) 
            tree[i] = new ArrayList<>();
// ...
```

ê·¸ ë‹¤ìŒìœ¼ë¡œ íŠ¸ë¦¬ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤. íŠ¸ë¦¬ëŠ” ë¬´í–¥ ê·¸ë˜í”„ì´ë¯€ë¡œ ì—°ê²° ê´€ê³„ë¥¼ ëŒ€ì¹­ì ìœ¼ë¡œ ì €ì¥í•´ì•¼ í•œë‹¤.

```java
StringTokenizer st;
for (int i = 1; i < N; i++) {
    st = new StringTokenizer(br.readLine());
    int a = Integer.parseInt(st.nextToken());
    int b = Integer.parseInt(st.nextToken());
    tree[a].add(b);
    tree[b].add(a);
}
```

ì´ì œ DFSë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ìŠ¤íƒìœ¼ë¡œ ì“¸ Dequeë¥¼ ì„ ì–¸í•˜ê³  ì œì¼ ë¨¼ì € íƒìƒ‰í•  ë…¸ë“œ 1ì„ ìŠ¤íƒì— ë„£ëŠ”ë‹¤. ë…¸ë“œ 1ì€ ë£¨íŠ¸ì´ë¯€ë¡œ `parents[1] = -1`ë¡œ ë‘”ë‹¤. ë‹¤ìŒìœ¼ë¡œ sì— ì›ì†Œê°€ ìˆëŠ” ë™ì•ˆ ë°˜ë³µí•˜ë©° ë…¸ë“œë¥¼ êº¼ë‚´ê³ , ê·¸ ë…¸ë“œì™€ ì¸ì ‘í•œ ë…¸ë“œë“¤ì— ëŒ€í•´ êº¼ë‚¸ ë…¸ë“œë¥¼ ë¶€ëª¨ë¡œ ì„¤ì •í•œë‹¤. ê·¸ëŸ° ë‹¤ìŒ ìŠ¤íƒì— ì¸ì ‘ ë…¸ë“œë“¤ì„ pushí•œë‹¤. ë§Œì•½ `parent[adj] != 0`ì´ë¼ë©´ ì´ë¯¸ ë°©ë¬¸í•œ ë…¸ë“œì´ë¯€ë¡œ `continue` ë¬¸ì„ í†µí•´ ìŠ¤íƒì— ì¶”ê°€í•˜ì§€ ì•Šê³  ê±´ë„ˆë›°ì–´ì•¼ í•œë‹¤.

```java
ArrayDeque<Integer> s = new ArrayDeque<>();
s.push(1);
parents[1] = -1;

while (!s.isEmpty()) {
    int parent = s.pop();
    List<Integer> adjs = tree[parent];
    for (int adj : adjs) {
        if (parents[adj] != 0) continue;
        parents[adj] = parent;
        s.push(adj);
    }
}
```

ë§ˆì§€ë§‰ìœ¼ë¡œ ë…¸ë“œ 2ë²ˆë¶€í„° Në²ˆê¹Œì§€ ìˆœíšŒí•˜ë©° ì°¾ì€ ë¶€ëª¨ ë…¸ë“œ ë²ˆí˜¸ë¥¼ ì „ë¶€ ì¶œë ¥í•˜ê²Œ ëœë‹¤.
```java
        for (int i = 2; i <= N; i++) {
            bw.write(parents[i] + "\n");
        }

        bw.flush();
        bw.close();
    }
}
```

## ì „ì²´ ì½”ë“œ
```java
import java.util.*;
import java.io.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    public static void main(String[] args) throws IOException {
        int N = Integer.parseInt(br.readLine());
        
        @SuppressWarnings("unchecked")
        ArrayList<Integer>[] tree = new ArrayList[N+5];
        int[] parents = new int[N+5];

        for (int i = 1; i <= N; i++) 
            tree[i] = new ArrayList<>();


        StringTokenizer st;
        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            int a = Integer.parseInt(st.nextToken());
            int b = Integer.parseInt(st.nextToken());
            tree[a].add(b);
            tree[b].add(a);
        }

        ArrayDeque<Integer> s = new ArrayDeque<>();
        s.push(1);
        parents[1] = -1;

        while (!s.isEmpty()) {
            int parent = s.pop();
            List<Integer> adjs = tree[parent];
            for (int adj : adjs) {
                if (parents[adj] != 0) continue;
                parents[adj] = parent;
                s.push(adj);
            }
        }

        for (int i = 2; i <= N; i++) {
            bw.write(parents[i] + "\n");
        }

        bw.flush();
        bw.close();
    }
}
```

## ì‹œê°„ë³µì¡ë„
DFS ì˜ ì‹œê°„ë³µì¡ë„ëŠ” $O(V+E)$ ì¸ë° ì´ ë¬¸ì œì—ì„œ ì •ì ì˜ ê°œìˆ˜ëŠ” N, ê°„ì„ ì˜ ê°œìˆ˜ëŠ” N-1ê°œì´ë¯€ë¡œ ì‹œê°„ë³µì¡ë„ëŠ” $O(N)$ì´ë‹¤. ë˜í•œ ì¶œë ¥í•˜ëŠ” ë°ì—ë„ $O(N)$ì˜ ì‹œê°„ë³µì¡ë„ê°€ ì†Œìš”ë˜ë¯€ë¡œ ìµœì¢… ì‹œê°„ë³µì¡ë„ëŠ” $O(N)$ì´ë‹¤.