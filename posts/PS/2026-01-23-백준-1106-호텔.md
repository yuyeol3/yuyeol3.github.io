# 1106 - í˜¸í…”

ì´ ë¬¸ì œì—ì„œëŠ” í˜¸í…”ì˜ ê³ ê°ì„ Cëª… ì´ìƒ ëŠ˜ë¦¬ê¸° ìœ„í•´ í•„ìš”í•œ ìµœì†Œ ê¸ˆì•¡ì´ ì–¼ë§ˆì¸ì§€ ë¬»ëŠ”ë‹¤. ì…ë ¥ìœ¼ë¡œëŠ” ìµœì†Œí•œ ëŠ˜ë ¤ì•¼ í•˜ëŠ” ê³ ê°ì¸ Cì™€ í™ë³´í•  ìˆ˜ ìˆëŠ” ë„ì‹œì˜ ìˆ˜ N, ê·¸ë¦¬ê³  ê° ë„ì‹œë³„ ë‹¨ìœ„ í™ë³´ ë¹„ìš©ê³¼ í™ë³´ íš¨ê³¼(ëŠ˜ì–´ë‚˜ëŠ” ë°©ë¬¸ì¸ì›)ì´ ì£¼ì–´ì§„ë‹¤.

ì´ ë¬¸ì œëŠ” í™ë³´ ê°€ëŠ¥í•œ ë„ì‹œì˜ ë¹„ìš©ê³¼ ê°€ì¹˜ê°€ ì£¼ì–´ì§€ëŠ” ê²ƒ, ê·¸ë¦¬ê³  ì—¬ëŸ¬ í™ë³´ë¥¼ í†µí•´ ë¹„ìš© ëŒ€ë¹„ ê°€ì¹˜ê°€ ìµœëŒ€í™”ë˜ëŠ” ê²ƒì€ ì–´ë–¤ ê²ƒì¸ì§€ ë¬»ê³  ìˆë‹¤ëŠ” ì ì—ì„œ Knapsack ë¬¸ì œë¼ê³  í•  ìˆ˜ ìˆë‹¤. 

Knapsack ë¬¸ì œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í‘¸ëŠ” ë°©ë²•ì€ ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤. 

`dp[i]`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•´ë³´ì.

$$ 

dp[i] = (i\text{ ì›ì„ ì¼ì„ ë•Œ ì–»ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ê³ ê° ìˆ˜})

$$

ê·¸ë ‡ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì í™”ì‹ì„ ì„¸ìš¸ ìˆ˜ ìˆë‹¤.

$$

dp[i] = \max(dp[i], dp[i-\text{cost}[j]]+\text{value}[j])

$$

ì´ˆê¸°ê°’ì€ ì•„ë˜ì™€ ê°™ì´ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

$$
dp[\text{cost}[i]] = \max(dp[\text{cost}[i]], \text{value}[i])
$$

ì´ ì í™”ì‹ì— ë”°ë¼ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤.

[ğŸ”— ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/1106)

## ì½”ë“œ

ë¨¼ì € ëŠ˜ë ¤ì•¼ í•  ìµœì†Œ ì¸ì› `C`ì™€ í™ë³´ ê°€ëŠ¥í•œ ë„ì‹œì˜ ê°œìˆ˜ `N`ì„ ì…ë ¥ë°›ëŠ”ë‹¤. 

```java
public static void main(String[] args) throws IOException {
    StringTokenizer st = new StringTokenizer(br.readLine());
    int C, N;

    C = Integer.parseInt(st.nextToken());
    N = Integer.parseInt(st.nextToken());
```

ë‹¤ìŒìœ¼ë¡œ ë¹„ìš©ì„ ì…ë ¥ë°›ì„ ë°°ì—´ `cost`ì™€ ê°€ì¹˜ë¥¼ ì…ë ¥ë°›ì„ ë°°ì—´ `value`ë¥¼ ì„ ì–¸í•œë‹¤. ì•ì„œ ë§í–ˆë“¯ `cost[i] = (ë‹¨ìœ„ í™ë³´ë¹„)` ì´ê³ , `value[i] = (ë‹¨ìœ„í™ë³´ë‹¹ ëª¨ê° ì¸ì›)` ì´ë‹¤.

```java
    int[] cost = new int[21];
    int[] value = new int[21];

    for (int i = 0; i < N; i++) {
        st = new StringTokenizer(br.readLine());
        cost[i] = Integer.parseInt(st.nextToken()); // cost
        value[i] = Integer.parseInt(st.nextToken()); // value
    }
```

ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°ì„ ìˆ˜í–‰í•œë‹¤. ë¨¼ì € ì í™”ì‹ì˜ ê°’ì„ ë‹´ì„ `dp` ë°°ì—´ì„ ì„ ì–¸í•œë‹¤. ê·¸ëŸ° ë‹¤ìŒ `C` ì´ìƒì„ ë§Œì¡±í•˜ëŠ” ìµœì†Œ í™ë³´ ë¹„ìš©ì„ ë‹´ì„ `result` ë³€ìˆ˜ë„ ì„ ì–¸í•œë‹¤.

`result`ì˜ ì´ˆê¸°ê°’ì´ `100 * C + 5`ì¸ ì´ìœ ëŠ”, ë§Œì•½ ìµœì•…ì˜ ê²½ìš°ë¥¼ ìƒì •í•´ `100`ì˜ í™ë³´ë¹„ìš©ìœ¼ë¡œ 1ëª…ì´ ëª¨ê°ë˜ëŠ” ë„ì‹œê°€ ìˆë‹¤ê³  í–ˆì„ ë•Œ `C` ì´ìƒì„ ëª¨ì§‘í•˜ë ¤ë©´ ìµœì†Œ `100*C`ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì´ë‹¤. (ì¦‰, ë¹„ìš©ì˜ ìƒí•œì´ë‹¤.) `+5`ëŠ” ë²”ìœ„ì— ì—¬ìœ ë¥¼ ì¶”ê¸° ìœ„í•´ ì„ì˜ì˜ ìƒìˆ˜ë¥¼ ë”í•œ ê²ƒìœ¼ë¡œ, ë³„ ì˜ë¯¸ëŠ” ì—†ë‹¤.

ê·¸ëŸ° ë‹¤ìŒ ë°˜ë³µë¬¸ì„ í†µí•´ ì í™”ì‹ì„ ê³„ì‚°í•œë‹¤. ê°€ëŠ¥í•œ ëª¨ë“  ë¹„ìš©ì— ëŒ€í•´ ì í™”ì‹ì„ ê³„ì‚°í•˜ê¸° ìœ„í•´ `i`ëŠ” `[0,100 * C + 5)` ë²”ìœ„ì—ì„œ ë°˜ë³µí•œë‹¤. 

ê° `i`ë§ˆë‹¤ í™ë³´ ê°€ëŠ¥í•œ ë„ì‹œë“¤ì— ëŒ€í•´ ì í™”ì‹ì„ í†µí•´ ëª¨ê° ê°€ëŠ¥í•œ ìµœëŒ€ ì¸ì› ìˆ˜ë¥¼ ê³„ì‚°í•œë‹¤. ì í™”ì‹ì„ ê³„ì‚°í•˜ê¸° ì „ì— `i - cost[j]`ê°€ 0 ì´ìƒì¸ì§€ í™•ì¸í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì— ìœ ì˜í•˜ë¼. 

ë§Œì•½ ëª¨ë“  ë„ì‹œì— ëŒ€í•´ ì í™”ì‹ì„ ì—…ë°ì´íŠ¸í•˜ì˜€ë‹¤ë©´, `dp[i]` ê°€ `C` ì´ìƒì¸ì§€ í™•ì¸í•œë‹¤. `C` ì´ìƒì´ë¼ë©´ `i`ëŠ” ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìµœì†Œ ë¹„ìš©ì¼ ê²ƒì´ë‹¤. ì™œëƒí•˜ë©´ ì´ ë¬¸ì œì—ì„œ `i`ëŠ” ìˆœì°¨ì ìœ¼ë¡œ ì¦ê°€í•˜ê³  ìˆê³ , ë”°ë¼ì„œ ì œì¼ ë¨¼ì € ì¡°ê±´ì„ ì¶©ì¡±ì‹œí‚¨ `i`ê°€ ìµœì†Œ ë¹„ìš©ì„ì€ ìëª…í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ `result=i`ë¡œ ì—…ë°ì´íŠ¸í•˜ê³  ë°˜ë³µë¬¸ì„ ë¹ ì ¸ë‚˜ì˜¨ë‹¤.

```java
    int[] dp = new int[100005];
    int result = 100 * C + 5;
    for (int i = 0; i < 100 * C + 5; i++) {
        for (int j = 0; j < N; j++) {
            if (i - cost[j] < 0) continue;
            dp[i] = Math.max(dp[i], dp[i-cost[j]] + value[j]);
        }

        if (dp[i] >= C) {
            result = i;
            break;
        }
    }
```

ë°˜ë³µë¬¸ì„ ë¹ ì ¸ë‚˜ì™”ë‹¤ë©´ ê²°ê³¼ê°€ êµ¬í•´ì§„ ê²ƒì´ë¯€ë¡œ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.

```java
    System.out.println(result);
}
```

ì°¸ê³ ë¡œ ì´ ë°©ì‹ì—ì„œëŠ” ì™¸ë¶€ ë£¨í”„ê°€ ê¸ˆì•¡ì´ê³  ë‚´ë¶€ ë£¨í”„ê°€ ë„ì‹œì˜€ì§€ë§Œ, ì™¸ë¶€ë¥¼ ë„ì‹œë¡œ ë‘ê³  ë‚´ë¶€ë¥¼ ê¸ˆì•¡ìœ¼ë¡œ ë‘ì–´ì„œ í‘¸ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. ì „ì²´ ì½”ë“œì— ì´ ë°©ë²•ìœ¼ë¡œ í‘¼ í•´ë‹µì´ ìˆë‹¤.

## ì „ì²´ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    public static void main(String[] args) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());
        int C, N;

        C = Integer.parseInt(st.nextToken());
        N = Integer.parseInt(st.nextToken());

        int[] cost = new int[21];
        int[] value = new int[21];

        for (int i = 0; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            cost[i] = Integer.parseInt(st.nextToken()); // cost
            value[i] = Integer.parseInt(st.nextToken()); // value
        }

        int[] dp = new int[100005];
        int result = 100 * C + 5;
        for (int i = 0; i < 100 * C + 5; i++) {
            for (int j = 0; j < N; j++) {
                if (i - cost[j] < 0) continue;
                dp[i] = Math.max(dp[i], dp[i-cost[j]] + value[j]);
            }

            if (dp[i] >= C) {
                result = i;
                break;
            }
        }
        
        System.out.println(result);
    }
}
```

ë˜ëŠ” ì•„ë˜ì™€ ê°™ì´ í’€ ìˆ˜ë„ ìˆë‹¤.

```java
import java.io.*;
import java.util.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    public static void main(String[] args) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());
        int C, N;

        C = Integer.parseInt(st.nextToken());
        N = Integer.parseInt(st.nextToken());

        int[][] adv = new int[N][2];

        for (int i = 0; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            adv[i][0] = Integer.parseInt(st.nextToken()); // cost
            adv[i][1] = Integer.parseInt(st.nextToken()); // value
        }

        int result = 100 * C + 5;
        int[] dp = new int[result];

        for (int i = 0; i < N; i++) {
            int cost = adv[i][0];
            int value = adv[i][1];

            for (int j = cost; j <= 100*C; j++) {
                dp[j] = Math.max(dp[j], dp[j-cost]+value);
                if (dp[j] >= C && j < result) 
                    result = j;
            }
        }
        
        System.out.println(result);
    }
}
```

## ì‹œê°„ë³µì¡ë„

ì‹œê°„ ë³µì¡ë„ëŠ” ë„ì‹œì˜ ìˆ˜($N$)ì™€ íƒìƒ‰í•˜ëŠ” ìµœëŒ€ ë¹„ìš©($100 \times C$)ì— ë¹„ë¡€í•˜ë¯€ë¡œ ë‘ ê²½ìš° ëª¨ë‘ ì‹œê°„ë³µì¡ë„ëŠ” $O(N \cdot 100C) \approx O(NC)$ì´ë‹¤. ìµœì•…ì˜ ê²½ìš° $100 \times 20 \times 1000 = 200$ë§Œë²ˆ ì—°ì‚°í•˜ë¯€ë¡œ 1ì´ˆ ë‚´ì— ì¶©ë¶„íˆ í†µê³¼í•  ìˆ˜ ìˆë‹¤.