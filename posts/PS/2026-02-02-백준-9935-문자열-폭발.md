# 9935 - ë¬¸ìžì—´ í­ë°œ

ì´ ë¬¸ì œëŠ” ë¬¸ìžì—´ê³¼ í­íƒ„ ë¬¸ìžì—´ì´ ì£¼ì–´ì¡Œì„ ë•Œ, í­íƒ„ ë¬¸ìžì—´ì„ ì—°ì‡„ì ìœ¼ë¡œ ì œê±°í•´ë‚˜ê°„ ë’¤ ë‚¨ì€ ë¬¸ìžì—´ë§Œì„ ì¶œë ¥í•´ì•¼ í•˜ëŠ” ë¬¸ì œì´ë‹¤. ì°¸ê³ ë¡œ í­ë°œ ë¬¸ìžì—´ì€ ê°™ì€ ë¬¸ìžë¥¼ ë‘ ê°œ ì´ìƒ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•œë‹¤.

ì´ ë¬¸ì œì˜ ì •ì„ í’€ì´ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤ê³  í•œë‹¤. ë¬¸ìžì—´ì˜ ì™¼ìª½ë¶€í„° í•œ ê¸€ìžì”© ìŠ¤íƒì— ë„£ëŠ”ë‹¤. ë¬¸ìžì—´ì„ ë„£ë˜ ì¤‘ ìŠ¤íƒì˜ topì´ í­ë°œ ë¬¸ìžì—´ì˜ ë§ˆì§€ë§‰ ë¬¸ìžì™€ ê°™ì•„ì§€ë©´ í­ë°œ ë¬¸ìžì—´ì˜ ê¸¸ì´ë§Œí¼ ìŠ¤íƒì„ ê²€ì‚¬í•˜ì—¬ ëª¨ë‘ ê°™ì€ì§€ í™•ì¸í•œë‹¤. ë§Œì•½ ëª¨ë‘ ì¼ì¹˜í•œë‹¤ë©´ í­ë°œ ë¬¸ìžì—´ì˜ ê¸¸ì´ë§Œí¼ ìŠ¤íƒì—ì„œ ì›ì†Œë¥¼ popí•œë‹¤. 

ê·¸ëŸ¬ë‚˜ í•„ìžì˜ ê²½ìš° ë‹¤ì†Œ ë³µìž¡í•œ ë°©ì‹ìœ¼ë¡œ í’€ì—ˆëŠ”ë°, ì•„ëž˜ì™€ ê°™ì€ ì„±ì§ˆì„ ì´ìš©í•˜ì˜€ë‹¤.

ë¨¼ì € ì•„ëž˜ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ì—ì„œ ë¬¸ìžì—´ í­ë°œì´ ì–´ë–»ê²Œ ì¼ì–´ë‚˜ëŠ”ì§€ ê´€ì°°í•´ ë³´ìž.
```text
12ab112ab2ab
12ab

â†“

****112ab2ab

â†“

****1****2ab

â†“

************
```

í­ë°œ ë¬¸ìžì—´ ì‚¬ì´ì— í­ë°œ ë¬¸ìžì—´ì´ ì¤‘ì²©ë˜ì–´ ë“¤ì–´ê°€ ìžˆë‹¤ë©´, ë¨¼ì € ì•ˆìª½ì˜ ë¬¸ìžì—´ì´ ë¨¼ì € í„°ì§€ê³  ê·¸ëŸ° ë‹¤ìŒ ë°”ê¹¥ìª½ì˜ ë¬¸ìžì—´ì´ í­ë°œí•˜ì—¬ ì—†ì–´ì§„ë‹¤. ì¦‰ ì´ëŠ” ì—°ì‡„ ë°˜ì‘ì²˜ëŸ¼ ì•ˆìª½ë¶€í„° ë°”ê¹¥ìª½ìœ¼ë¡œ ë¬¸ìžì—´ì´ í­ë°œí•˜ëŠ” ëŠë‚Œì¸ ê²ƒì„ ì•Œ ìˆ˜ ìžˆë‹¤.

ë°˜ëŒ€ë¡œ ë§í•˜ë©´, ì–´ë–¤ ë¬¸ìžì—´ì„ ê°ì‹¼ ë°”ê¹¥ìª½ì˜ ë¬¸ìžì—´ë“¤ì´ í­ë°œ ë¬¸ìžì—´ì´ ë  ìˆ˜ ìžˆë”ë¼ë„, í„°ì ¸ì•¼ í•  ì•ˆìª½ì˜ ë¬¸ìžì—´ì´ í­ë°œ ë¬¸ìžì—´ê³¼ ë‹¤ë¥´ë‹¤ë©´ ê·¸ ë¬¸ìžì—´ë“¤ì€ ì ˆëŒ€ë¡œ ì—°ì‡„ ë°˜ì‘ì„ ì¼ìœ¼í‚¤ì§€ ì•Šì„ ê²ƒì´ë‹¤. ì¦‰ í•˜ë‚˜ë„ í„°ì§€ì§€ ì•Šì„ ê²ƒì´ë‹¤.


[ðŸ”— ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/9935)

## ì½”ë“œ

ë¬¸ìžì—´ì˜ ìœ„ì¹˜ idxì™€ í­ë°œ ë¬¸ìžì—´ì˜ ìœ„ì¹˜ cntë¥¼ ë‹´ì€ State í´ëž˜ìŠ¤ë¥¼ ì„ ì–¸í•œë‹¤. 

```java
static class State {
    int idx;
    int cnt;

    public State(int idx, int cnt) {
        this.idx = idx;
        this.cnt = cnt;
    }
}
```

ë¬¸ìžì—´ `s`ì™€ í­ë°œ ë¬¸ìžì—´ `k`ë¥¼ ìž…ë ¥ë°›ëŠ”ë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë¬¸ìžì—´ `s`ì—ì„œ í­ë°œë¡œ ë¶€ì„œì§„ ë¬¸ìžì—´ì„ ì¶”ì í•  `broken` ë°°ì—´ê³¼, ìƒíƒœë¥¼ ë‹´ì„ ìŠ¤íƒì¸ `states`, ê·¸ë¦¬ê³  í­ë°œ ë¬¸ìžì—´ ì¡°ê±´ì„ ì¶©ì¡±í•˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ë‹´ì„ ìŠ¤íƒì¸ `st`ë¥¼ ì„ ì–¸í•œë‹¤.

ê·¸ëŸ° ë‹¤ìŒ ìµœì´ˆì˜ ìƒíƒœë¡œ `State(0, 0)`ì„ ìŠ¤íƒì— ë„£ëŠ”ë‹¤.

```java
public static void main(String[] args) throws IOException {
    String s = br.readLine();
    String k = br.readLine();

    boolean[] broken = new boolean[s.length() + 1];
    
    State[] states = new State[s.length()];
    int statesSize = 0;

    int[] st = new int[s.length()];
    int stSize = 0;

    states[statesSize++] = new State(0, 0);
```

ì´ ë¶€ë¶„ì´ ì•Œê³ ë¦¬ì¦˜ì˜ í•µì‹¬ì´ë¼ê³  í•  ìˆ˜ ìžˆë‹¤. ì´ ê³¼ì •ì€ `states` ìŠ¤íƒì´ ë¹„ì–´ìžˆì§€ ì•Šì„ ë™ì•ˆ ë°˜ë³µëœë‹¤.

ë¨¼ì € `states` ìŠ¤íƒì˜ top ì›ì†Œë¥¼ `state` ë³€ìˆ˜ì— ì €ìž¥í•œë‹¤. ë§Œì•½ top ì›ì†Œê°€ `|s|` ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ë‹¤ë©´ í­ë°œ ë¬¸ìžì—´ì´ ë˜ì§€ ëª»í•œ ê²ƒì´ê³ , ê·¸ê²ƒê³¼ ë™ì‹œì— ëª¨ë“  ë¬¸ìžì—´ì— ëŒ€í•œ í­ë°œ ë¬¸ìžì—´ í™•ì¸ì´ ëë‚œ ê²ƒì´ë¯€ë¡œ ë£¨í”„ë¥¼ ë¹ ì ¸ë‚˜ì˜¨ë‹¤.

ë§Œì•½ `s[state.idx] == k[state.cnt]`ë¼ë©´ í•´ë‹¹ ìƒíƒœì—ì„œ í­ë°œ ë¬¸ìžì—´ì˜ ì¡°ê±´ì´ ê¹¨ì§€ì§€ ì•Šì€ ê²ƒì„ ì˜ë¯¸í•œë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ë¬¸ìžë¥¼ ì¶”ì í•˜ê¸° ìœ„í•´ `st`ìŠ¤íƒì— `state.idx`ë¥¼ ë„£ì€ ë‹¤ìŒ, `state.idx` ì™€ `state.cnt`ë¥¼ 1ì”© ì¦ê°€ì‹œì¼œ ì¤€ë‹¤. ë§Œì•½ ì¦ê°€í•œ `state.cnt`ê°’ì´ `|k|`ì™€ ê°™ë‹¤ë©´ ì§€ê¸ˆê¹Œì§€ ì¶”ì í•´ì˜¨ ë¬¸ìžì—´ì´ í­ë°œ ë¬¸ìžì—´ì´ ë§žë‹¤ëŠ” ëœ»ì´ë¯€ë¡œ `|k|` ë§Œí¼ `st` ìŠ¤íƒì—ì„œ popí•œ ë’¤, ê·¸ ìœ„ì¹˜ì— ëŒ€í•œ broken ì›ì†Œ ê°’ì„ trueë¡œ ë§Œë“¤ì–´, ê¹¨ì¡Œë‹¤ëŠ” ê²ƒì„ í‘œì‹œí•´ ì¤€ë‹¤. ê·¸ëŸ° ë‹¤ìŒ `statesSize` ìŠ¤íƒì—ì„œ popí•´ ì¶”ì í•´ì˜¨ í˜„ìž¬ ìƒíƒœë¥¼ ì‚­ì œí•œë‹¤. 

ë§Œì•½ popí•œ ì´í›„ì—ë„ ìŠ¤íƒì´ ë¹„ì§€ ì•Šì•˜ë‹¤ë©´ ì´ì „ì— ì¶”ì í•˜ë˜ ìƒíƒœê°€ ìžˆë‹¤ëŠ” ëœ»ì´ë‹¤. ê·¸ ìƒíƒœê°€ ì¶”ì í•  ë‹¤ìŒ ì¸ë±ìŠ¤ëŠ” í˜„ìž¬ ìƒíƒœì—ì„œ ë§ˆì§€ë§‰ìœ¼ë¡œ ì¶”ì í•œ ê¸€ìžì˜ ë‹¤ìŒ ê¸€ìžì´ë¯€ë¡œ `states`ì˜ top ì›ì†Œì— ëŒ€í•´ ì¸ë±ìŠ¤ë¥¼ `state.idx`ë¡œ ì—…ë°ì´íŠ¸ í•œë‹¤. 
`idx+1`ì´ ì•„ë‹Œ `idx`ì¸ ì´ìœ ëŠ” ì´ë¯¸ ì´ì „ì— `idx++`ë¥¼ í†µí•´ ë‹¤ìŒ ì›ì†Œì˜ ì¸ë±ìŠ¤ë¡œ ì´ë™ì‹œì¼°ê¸° ë•Œë¬¸ì´ë‹¤.

ë°˜ëŒ€ë¡œ ìŠ¤íƒì€ ë¹„ì—ˆëŠ”ë° `state.idx`ê°€ `|s|`ë³´ë‹¤ ìž‘ë‹¤ë©´ ì•„ì§ ì¶”ì í•  ë¬¸ìžê°€ ë” ë‚¨ì•˜ë‹¤ëŠ” ëœ»ì´ë‹¤. ë”°ë¼ì„œ `state.idx`ë¥¼ ê¸°ì ìœ¼ë¡œ í•˜ê³ , ì•„ì§ `k`ì™€ ì¼ì¹˜í•˜ëŠ” ë¬¸ìžê°€ í•˜ë‚˜ë„ ì—†ëŠ” ìƒíƒœë¥¼ `states`ìŠ¤íƒì— ë„£ì–´ì¤€ë‹¤.

ì´ì œ ìœ„ ì¼€ì´ìŠ¤ì™€ ë°˜ëŒ€ì¸ ê²½ìš°ë¥¼ ë³´ìž. `s[state.idx] != k[state.cnt]`ë¼ë©´ í­ë°œ ë¬¸ìžì—´ì˜ ì¡°ê±´ì´ ê¹¨ì§„ ê²ƒì´ë‹¤. ë§Œì•½ `state.cnt`ê°€ 0ì¸ë° ë²Œì¨ ì¡°ê±´ì´ ê¹¨ì§„ ê²ƒì´ë©´, ì´ ìƒíƒœëŠ” ì•žìœ¼ë¡œ ë§žì„ ê°€ë§ì´ ì—†ëŠ” ê²ƒì´ë‹¤. ë˜í•œ ì´ ìƒíƒœì—ì„œ í­ë°œ ë¬¸ìžì—´ì´ ì•„ë‹ˆì—ˆë‹¤ë©´ ì´ì „ê¹Œì§€ ì¶”ì í•´ì˜¤ë˜ ìƒíƒœë“¤ë„ í­ë°œ ë¬¸ìžì—´ì´ ë  ê°€ëŠ¥ì„±ì€ ì—†ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ `states`ìŠ¤íƒê³¼ `st` ìŠ¤íƒì„ ëª¨ë‘ ì´ˆê¸°í™”í•˜ê³ , ë‹¤ìŒ ìœ„ì¹˜ë¶€í„° ë‹¤ì‹œ ì¶”ì í•  ìˆ˜ ìžˆë„ë¡ `state.idx + 1` ë¶€í„° í­ë°œ ë¬¸ìžì—´ì„ ìƒˆë¡œ ì¶”ì í•˜ëŠ” ìƒíƒœë¥¼ push í•œë‹¤.

í•œíŽ¸ `state.cnt`ê°€ 0ì€ ì•„ë‹ˆì§€ë§Œ ì¡°ê±´ì´ ê¹¨ì¡Œë‹¤ë©´, ì—¬ê¸°ì„œë¶€í„° ìƒˆë¡œ ì‹œìž‘í•´ì„œ ì¶”ì í–ˆì„ ë•Œ í­ë°œ ë¬¸ìžì—´ì´ ë  ê°€ëŠ¥ì„±ì€ ì•„ì§ ë‚¨ì•„ ìžˆëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ `state.idx`ë¥¼ ê¸°ì ìœ¼ë¡œ í­ë°œ ë¬¸ìžì—´ì„ ì¶”ì í•˜ëŠ” ìƒíƒœë¥¼ pushí•œë‹¤.

```java
    while (statesSize > 0) {
        
        State state = states[statesSize-1];
        if (state.idx >= s.length()) {
            break;
        }

        if (s.charAt(state.idx) == k.charAt(state.cnt)) {
            
            st[stSize++] = state.idx;
            state.idx++;
            state.cnt++;
            
            if (state.cnt == k.length()) {
                for (int i = 0; i < k.length(); i++)
                    broken[st[--stSize]] = true;

                statesSize--;
                if (statesSize >= 1)
                    states[statesSize-1].idx = state.idx;

                if (statesSize == 0 && state.idx < s.length()) {
                    states[statesSize++] = new State(state.idx, 0);
                }
            }
        }
        else {
            if (state.cnt == 0) {
                statesSize = 0;
                stSize = 0;
                states[statesSize++] = new State(state.idx + 1, 0);
            }
            else states[statesSize++] = new State(state.idx, 0);
        }
    }
```

ë°˜ë³µë¬¸ì„ ë¹ ì ¸ë‚˜ì™”ë‹¤ë©´ í­ë°œ ë¬¸ìžì—´ì„ ëª¨ë‘ í™•ì¸í•œ ê²ƒì´ë¯€ë¡œ í­ë°œí•˜ì—¬ ë¶€ì„œì§€ì§€ ì•Šì€ ë¬¸ìžì—´ë“¤ë§Œ ì¶œë ¥ì„ í•˜ë©´ ëœë‹¤. broken ë°°ì—´ì„ í™•ì¸í•´ ë¶€ì„œì§€ì§€ ì•Šì€ ë¬¸ìžë“¤ë§Œ ì¶œë ¥í•œë‹¤. ë§Œì•½ ëª¨ë“  ë¬¸ìžì—´ì´ ë¶€ìˆ´ì¡Œë‹¤ë©´ ë¬¸ì œì˜ ìš”êµ¬ëŒ€ë¡œ "FRULA"ë¥¼ ì¶œë ¥í•˜ë„ë¡ í•œë‹¤.
```java
    StringBuilder sb = new StringBuilder();
    for (int i = 0; i < s.length(); i++) {
        if (!broken[i]) 
            sb.append(s.charAt(i));
    }
    String result = sb.toString();
    System.out.println(result.equals("") ? "FRULA" : result);
}
```


## ì „ì²´ ì½”ë“œ

```java
import java.io.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    static class State {
        int idx;
        int cnt;

        public State(int idx, int cnt) {
            this.idx = idx;
            this.cnt = cnt;
        }
    }

    public static void main(String[] args) throws IOException {
        String s = br.readLine();
        String k = br.readLine();

        boolean[] broken = new boolean[s.length() + 1];
        
        State[] states = new State[s.length()];
        int statesSize = 0;

        int[] st = new int[s.length()];
        int stSize = 0;

        states[statesSize++] = new State(0, 0);
        while (statesSize > 0) {
          
            State state = states[statesSize-1];
            if (state.idx >= s.length()) {
                break;
            }

            if (s.charAt(state.idx) == k.charAt(state.cnt)) {
               
                st[stSize++] = state.idx;
                state.idx++;
                state.cnt++;
                
                if (state.cnt == k.length()) {
                    for (int i = 0; i < k.length(); i++)
                        broken[st[--stSize]] = true;

                    statesSize--;
                    if (statesSize >= 1)
                        states[statesSize-1].idx = state.idx;

                    if (statesSize == 0 && state.idx < s.length()) {
                        states[statesSize++] = new State(state.idx, 0);
                    }
                }
            }
            else {
                if (state.cnt == 0) {
                    statesSize = 0;
                    stSize = 0;
                    states[statesSize++] = new State(state.idx + 1, 0);
                }
                else states[statesSize++] = new State(state.idx, 0);
            }
        }

    
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < s.length(); i++) {
            if (!broken[i]) 
                sb.append(s.charAt(i));
        }
        String result = sb.toString();
        System.out.println(result.equals("") ? "FRULA" : result);
    }
}
```

## ì‹œê°„ë³µìž¡ë„

ì½”ë“œê°€ ì¡°ê¸ˆ ë³µìž¡í•˜ì§€ë§Œ ê°„ë‹¨ížˆ ìƒê°í•´ë³´ìž. ì´ í”„ë¡œê·¸ëž¨ì—ì„œ ìƒíƒœì˜ idxëŠ” í•­ìƒ ì•žìª½ ë°©í–¥ìœ¼ë¡œë§Œ ì›€ì§ì¸ë‹¤. ì¦‰, ì ˆëŒ€ë¡œ ë’¤ë¥¼ ëŒì•„ë³´ì§€ ì•ŠëŠ”ë‹¤. ë˜í•œ í­ë°œ ë¬¸ìžì—´ì„ ìŠ¤íƒì—ì„œ ë¹¼ëŠ” ë°˜ë³µë¬¸ì˜ ê²½ìš°ì—ë„, ê° í­ë°œ ë¬¸ìžì—´ì€ ìµœëŒ€ í•œ ë²ˆì”©ë§Œ ìŠ¤íƒì—ì„œ ë¹ ì§ˆ ìˆ˜ ìžˆìœ¼ë©° ì ˆëŒ€ë¡œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ”ë‹¤. 

ìµœì•…ì˜ ê²½ìš°ë¥¼ ìƒê°í•´ë³´ë©´, $|s| = N$ ì´ê³  $|k| = 1$ì´ë©°, ë¬¸ìžì—´ $s$ ì˜ ê° ì›ì†Œë“¤ì€ ëª¨ë‘ kì¸ ê²½ìš° ì‹œê°„ë³µìž¡ë„ëŠ” $O(2 |s|)$ ì¼ ê²ƒì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì´ ì½”ë“œì˜ ì‹œê°„ë³µìž¡ë„ëŠ” ëŒ€ëžµ $O(|s|)$ì— ìˆ˜ë ´í•  ê²ƒì´ë‹¤. 