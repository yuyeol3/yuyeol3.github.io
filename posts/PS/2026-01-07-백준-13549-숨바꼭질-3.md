# 13549 - ìˆ¨ë°”ê¼­ì§ˆ 3

ì´ ë¬¸ì œëŠ” ë‘ ìˆ«ì Nê³¼ Kê°€ ì£¼ì–´ì§€ê³ , ì´ë™ ë°©ë²•ì„ ì´ìš©í•´ Nì„ Kë¡œ ë§Œë“œëŠ”ë° ë“œëŠ” ìµœì†Œ ë¹„ìš©(ë¬¸ì œì—ì„œëŠ” ì‹œê°„)ì´ ì–¼ë§ˆì¸ì§€ êµ¬í•´ì•¼ í•˜ëŠ” ë¬¸ì œì´ë‹¤. ì´ë™ ë°©ë²•ì—ëŠ” ë‘ ê°€ì§€ê°€ ìˆë‹¤.

- x+1 ë˜ëŠ” x-1ë¡œ ì´ë™ (ë¹„ìš© 1)
- 2*xë¡œ ì´ë™ (ë¹„ìš© 0)

ìˆ«ìë¥¼ ë…¸ë“œë¡œ ì •ì˜í•˜ê³  ë¹„ìš©ì„ ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ë¡œ ë³´ë©´ ì´ ë¬¸ì œê°€ ê·¸ë˜í”„ì—ì„œ ìµœì†Œ ì´ë™ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì„ì„ ì•Œ ìˆ˜ ìˆë‹¤. ê°€ì¤‘ì¹˜ê°€ ëª¨ë“  ê°„ì„ ë§ˆë‹¤ 0 ë˜ëŠ” 1ë¡œ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ì“°ê±°ë‚˜ 0-1 BFSë¥¼ ì‚¬ìš©í•˜ë©´ ì´ ë¬¸ì œë¥¼ í’€ ìˆ˜ ìˆë‹¤.

[ğŸ”— ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/13549)

## ì½”ë“œ

### ë‹¤ìµìŠ¤íŠ¸ë¼

í•„ìš”í•œ ë³€ìˆ˜ë“¤ì„ ë¯¸ë¦¬ ì„ ì–¸í•œë‹¤. `INF`ì˜ ê²½ìš° `distances` ë°°ì—´ì„ ì´ˆê¸°í™”í•  ë•Œ ë¬´í•œëŒ€ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ ì •ì˜í•œ ê²ƒìœ¼ë¡œ, ê°€ì¤‘ì¹˜ê°€ 0 ë˜ëŠ” 1ì´ê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•œ ìµœëŒ€ ë¹„ìš©ì€ 100000 ì¼ ê²ƒì´ë‹¤. ë”°ë¼ì„œ ê·¸ê²ƒë³´ë‹¤ ì¡°ê¸ˆ ë” í° 100005ë¥¼ `INF`ë¡œ ì„¤ì •í•˜ì˜€ë‹¤.

`costs`ëŠ” ê° ê°„ì„ ì˜ ë¹„ìš©ì„ ì‰½ê²Œ ê³„ì‚°í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ê° ì´ë™ ì¼€ì´ìŠ¤ë³„ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ë‹´ì•„ë†“ì€ ê²ƒì´ë‹¤.

State í´ë˜ìŠ¤ëŠ” ìš°ì„ ìˆœìœ„ íì— ë„£ì„ ìë£Œí˜•ì„ ì •ì˜í•œ ê²ƒìœ¼ë¡œ, í˜„ì¬ ìƒíƒœì¸ ìˆ«ìì™€, ë„ë‹¬í•˜ëŠ” ë° ë“  ë¹„ìš©(ê±°ë¦¬)ë¥¼ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤.


```java
class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    static final int INF = 100005;
    static final int[] costs = {1,1,0};
    static class State {
        public int dist;
        public int num;

        public State(int dist, int num) {
            this.dist = dist;
            this.num = num;
        }
    }
```

ê·¸ëŸ° ë‹¤ìŒ ì‹œì‘ ìœ„ì¹˜ì™€ ë„ì°©í•´ì•¼ í•  ìœ„ì¹˜ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤. 

ë˜í•œ íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ë¥¼ ë¯¸ë¦¬ ì²˜ë¦¬í•˜ì—¬ ìµœì í™”í•˜ì˜€ë‹¤. ë§Œì•½ Nì´ Kì™€ ì´ë¯¸ ê°™ì€ ìƒí™©ì´ë©´ ë‹¹ì—°íˆ ë¹„ìš©ì´ ë“¤ì§€ ì•Šì„ ê²ƒì´ê³ , Nì´ Kë³´ë‹¤ í¬ë‹¤ë©´ ë¬´ì¡°ê±´ 1ì¹¸ì”© ë’¤ë¡œ ê°€ì•¼ í•˜ê¸° ë•Œë¬¸ì— (N-K) ë§Œí¼ì˜ ë¹„ìš©ì´ ë“¤ ê²ƒì´ë¯€ë¡œ ë¯¸ë¦¬ ì²˜ë¦¬í•˜ì˜€ë‹¤.

```java
public static void main(String[] args) throws IOException {
    StringTokenizer st = new StringTokenizer(br.readLine());
    int N = Integer.parseInt(st.nextToken());
    int K = Integer.parseInt(st.nextToken());

    if (N == K) {
        bw.write(0 + "\n");
        bw.flush();
        return;
    }
    else if (N > K) {
        bw.write(N - K + "\n");
        bw.flush();
        return;
    }
```

ë‹¤ìŒìœ¼ë¡œ ìš°ì„ ìˆœìœ„ íì™€ ê±°ë¦¬ ë°°ì—´ì„ ì„ ì–¸í•´ ë‘”ë‹¤. `distances` ë°°ì—´ì€ Nê³¼ Kì¤‘ ê°€ì¥ í° ê²ƒ + 5ì˜ í¬ê¸°ë¡œ ì„ ì–¸í•˜ê³ , ê°’ì„ ëª¨ë‘ infë¡œ ì±„ì›Œ ë‘”ë‹¤. ë‹¤ìŒìœ¼ë¡œ ìš°ì„ ìˆœìœ„ íë¥¼ ì„ ì–¸í•´ State.dist ì†ì„±ì„ ê¸°ì¤€ìœ¼ë¡œ ìµœì†Œ í™ì˜ êµ¬ì¡°ë¥¼ ê°€ì§€ë„ë¡ í•˜ì˜€ë‹¤. ë‹¤ìŒìœ¼ë¡œ ì‹œì‘ì ì˜ ë¹„ìš©ì„ 0ìœ¼ë¡œ ì¡ê³  ìš°ì„ ìˆœìœ„ íì— ë„£ëŠ”ë‹¤.

```java
    int[] distances = new int[Math.max(N, K) + 5];
    Arrays.fill(distances, INF);

    PriorityQueue<State> pq = new PriorityQueue<>(Comparator.comparingLong(e->e.dist));
    distances[N] = 0;
    pq.offer(new State(0, N));
```

ì´ ë¶€ë¶„ì€ ì¼ë°˜ì ì¸ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ê³¼ ìœ ì‚¬í•˜ë‹¤. ë¨¼ì € ìš°ì„ ìˆœìœ„ íì—ì„œ ì›ì†Œë¥¼ êº¼ë‚´ê³ , distances ë°°ì—´ì˜ ê°’ê³¼ ë¹„êµí•´ ìœ íš¨ì„±ì„ ê²€ì‚¬í•œë‹¤. ìŒìˆ˜ ê°€ì¤‘ì¹˜ëŠ” ì—†ìœ¼ë¯€ë¡œ `s.num == K`ì´ë©´ ìµœì†Œ ë¹„ìš©ì´ í™•ì •ëœ ê²ƒì´ë¯€ë¡œ ë£¨í”„ë¥¼ ë‚˜ê°„ë‹¤. ë‹¤ìŒìœ¼ë¡œ ì¸ì ‘ ì •ì ë“¤ì„ adjs ë°°ì—´ì— ë‹´ì•„ë‘”ë‹¤. 

ì´ì œ ì¸ì ‘ ì •ì ë³„ë¡œ ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ë¥¼ êµ¬í•˜ê³ , ë²”ìœ„ ê²€ì‚¬ë¥¼ í•œ ë’¤ adjNumì— ëŒ€í•´ ìƒˆë¡œìš´ ê±°ë¦¬ë¥¼ êµ¬í•´ ìµœì†Œ ê±°ë¦¬ë¥¼ í™•ì¸í•˜ê³  ì—…ë°ì´íŠ¸í•œë‹¤ (ì™„í™”). ë§Œì•½ ìƒˆë¡œ êµ¬í•œ ê±°ë¦¬ê°€ ìµœì†Œë¼ë©´ ìš°ì„ ìˆœìœ„ íì— ìƒˆ ê±°ë¦¬ì™€, ì´ë™í•œ ì •ì ì„ í‘œì‹œí•˜ëŠ” ìƒíƒœë¥¼ ë„£ëŠ”ë‹¤.

```java
    while (!pq.isEmpty()) {
        State s = pq.poll();
        if (s.dist > distances[s.num]) continue;
        if (s.num == K) break;
        int[] adjs = {s.num-1, s.num+1, 2*s.num};
        for (int i = 0; i < 3; i++) {
            int adjNum = adjs[i];
            int adjCost = costs[i];
            if (adjNum > Math.max(K, N) + 2 || adjNum < 0) continue;

            int newDist = s.dist + adjCost;
            if (newDist < distances[adjNum]) {
                distances[adjNum] = newDist;
                pq.offer(new State(newDist, adjNum));
            }
        }   
    }
```

ë£¨í”„ë¥¼ ë¹ ì ¸ë‚˜ì˜¤ë©´ Kê¹Œì§€ ê°€ëŠ” ìµœì†Œ ê±°ë¦¬ë¥¼ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.

```java
    bw.write(distances[K] + "\n");
    bw.flush();
}
```

### 0-1 BFS

ì „ë°˜ì ì¸ ì½”ë“œëŠ” ìœ ì‚¬í•˜ë‹ˆ ë‹¬ë¼ì§„ ë¶€ë¶„ì„ ìœ„ì£¼ë¡œ ì‚´í´ë³´ì.

ì°¨ì´ì  ì¤‘ í•˜ë‚˜ëŠ” ìš°ì„ ìˆœìœ„ íê°€ ì•„ë‹Œ ë°í¬(deque)ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ëŠ” ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ê°€ 0 ë˜ëŠ” 1ë¿ì´ì–´ì„œ ìš°ì„ ìˆœìœ„ í ì—†ì´ë„ ìš°ì„ ìˆœìœ„ íì²˜ëŸ¼ dequeë¥¼ ì •ë ¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì  ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤. ë˜í•œ dequeì— ë“¤ì–´ê°€ëŠ” ìë£Œí˜•ì€ `Integer`ë¡œ ê¸°ì¡´ì²˜ëŸ¼ distê¹Œì§€ í•¨ê»˜ ë„£ì–´ë‘ì§€ ì•Šì•„ë„ ëœë‹¤.

```java
    int[] distances = new int[Math.max(N, K)+5];
    Arrays.fill(distances, INF);
    Deque<Integer> q = new ArrayDeque<>();
    q.addLast(N);
    distances[N] = 0;
```

ë£¨í”„ë„ ì‚´í´ë³´ì. ë¨¼ì € ë³´ì´ëŠ” ì°¨ì´ì ìœ¼ë¡œëŠ”, dequeì—ì„œ ìƒíƒœë¥¼ êº¼ë‚¸ ë’¤ì— ê±°ë¦¬ë¥¼ í†µí•´ ìœ íš¨ì„± ì²´í¬ë¥¼ í•˜ì§€ ì•ŠìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. ì™œëƒí•˜ë©´ 0-1 BFSì—ì„œëŠ” distë¥¼ ìƒíƒœì— ê°™ì´ ì €ì¥í•˜ì§€ ì•Šê³  ì „ì—­ ë°°ì—´ `distances`ì— ì €ì¥í•˜ë¯€ë¡œ ì¼ê´€ì„±ì´ ê¹¨ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì´ê³ , ê°™ì€ ê°’ì´ dequeì— 2ê°œ ì´ìƒ ìˆë”ë¼ë„ í•œ ë²ˆ ë¨¼ì € ì²˜ë¦¬ëœ ë’¤ í›„ìˆœìœ„ì˜ ê°’ì€ `if (distances[s] + adjCost < distances[adjNum])` ì¡°ê±´ì„ í†µí•´ ì¸ì ‘ë…¸ë“œê°€ dequeì— ì¶”ê°€ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.

ë˜í•œ ê¸°ì¡´ì²˜ëŸ¼ ì™„í™” ê³¼ì •ì„ í†µí•´ ê±°ë¦¬ë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ê³¼ì •ì€ ìœ ì‚¬í•˜ë‚˜ `adjCost`ê°’ì— ë”°ë¼ dequeì— ì‚½ì…í•˜ëŠ” ë°©ì‹ì´ ë‹¤ë¥´ë‹¤. `adjCost`ê°€ 1ì´ë¼ë©´ dequeì˜ ì œì¼ ë’¤ì— ë„£ëŠ”ë‹¤. ë§Œì•½ `adjCost`ê°€ 0ì´ë¼ë©´ ì œì¼ ì•ì— ë„£ëŠ”ë‹¤. ì´ëŠ” ìš°ì„ ìˆœìœ„ íì˜ ë™ì‘ ë°©ì‹ì„ 0-1 ê°€ì¤‘ì¹˜ì˜ íŠ¹ì„±ê³¼ dequeë¥¼ í†µí•´ ë”°ë¼í•œ ê²ƒì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.

```java
    while (!q.isEmpty()) {
        int s = q.pop();
        if (s == K) break;
        int[] adjs = {s+1, s-1, 2*s};
        for (int i = 0; i < 3; i++) {
            int adjNum = adjs[i];
            int adjCost = costs[i];
            if (adjNum > Math.max(K, N) + 2 || adjNum < 0) continue;
            
            if (distances[s] + adjCost < distances[adjNum]) {
                distances[adjNum] = distances[s] + adjCost;
                if (adjCost == 1) 
                    q.addLast(adjNum);
                else
                    q.addFirst(adjNum);
            }
            
        }   
    }
```

## ì „ì²´ ì½”ë“œ
### ë‹¤ìµìŠ¤íŠ¸ë¼
```java
import java.util.*;
import java.io.*;


class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    static final int INF = 100005;
    static final int[] costs = {1,1,0};
    static class State {
        public int dist;
        public int num;

        public State(int dist, int num) {
            this.dist = dist;
            this.num = num;
        }
    }

    public static void main(String[] args) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());
        int N = Integer.parseInt(st.nextToken());
        int K = Integer.parseInt(st.nextToken());

        if (N == K) {
            bw.write(0 + "\n");
            bw.flush();
            return;
        }
        else if (N > K) {
            bw.write(N - K + "\n");
            bw.flush();
            return;
        }

        int[] distances = new int[Math.max(N, K) + 5];
        Arrays.fill(distances, INF);

        PriorityQueue<State> pq = new PriorityQueue<>(Comparator.comparingLong(e->e.dist));
        distances[N] = 0;
        pq.offer(new State(0, N));

        while (!pq.isEmpty()) {
            State s = pq.poll();
            if (s.dist > distances[s.num]) continue;
            if (s.num == K) break;
            int[] adjs = {s.num-1, s.num+1, 2*s.num};
            for (int i = 0; i < 3; i++) {
                int adjNum = adjs[i];
                int adjCost = costs[i];
                if (adjNum > Math.max(K, N) + 2 || adjNum < 0) continue;

                int newDist = s.dist + adjCost;
                if (newDist < distances[adjNum]) {
                    distances[adjNum] = newDist;
                    pq.offer(new State(newDist, adjNum));
                }
            }   
        }

        bw.write(distances[K] + "\n");
        bw.flush();
    }
}
```

### 0-1 BFS
```java
import java.util.*;
import java.io.*;


class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    static final int[] costs = {1,1,0};
    static final int INF = 100005;

    public static void main(String[] args) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());
        int N = Integer.parseInt(st.nextToken());
        int K = Integer.parseInt(st.nextToken());


        if (N == K) {
            bw.write(0 + "\n");
            bw.flush();
            return;
        }
        else if (N > K) {
            bw.write(N - K + "\n");
            bw.flush();
            return;
        }

        int[] distances = new int[Math.max(N, K)+5];
        Arrays.fill(distances, INF);
        Deque<Integer> q = new ArrayDeque<>();
        q.addLast(N);
        distances[N] = 0;

        while (!q.isEmpty()) {
            int s = q.pop();
            if (s == K) break;
            int[] adjs = {s+1, s-1, 2*s};
            for (int i = 0; i < 3; i++) {
                int adjNum = adjs[i];
                int adjCost = costs[i];
                if (adjNum > Math.max(K, N) + 2 || adjNum < 0) continue;
                
                if (distances[s] + adjCost < distances[adjNum]) {
                    distances[adjNum] = distances[s] + adjCost;
                    if (adjCost == 1) 
                        q.addLast(adjNum);
                    else
                        q.addFirst(adjNum);
                }
                
            }   
        }

        bw.write(distances[K] + "\n");
        bw.flush();
    }
}
```

## ì‹œê°„ë³µì¡ë„

ë‹¤ìµìŠ¤íŠ¸ë¼ì˜ ì‹œê°„ë³µì¡ë„ $O(E \log V)$ ì´ë‹¤. ë¨¼ì € ì •ì ì˜ ê°œìˆ˜ë¶€í„° ìƒê°í•´ë³´ë©´ ê°„ì„ ì´ x+1, x-1, 2*xì´ê¸° ë•Œë¬¸ì— ì‚¬ì‹¤ìƒ ê±°ì˜ Në¶€í„° Kê¹Œì§€ ëª¨ë“  ìˆ˜ë¥¼ ì ‘ê·¼í•  ìˆ˜ ìˆì–´ì„œ ë…¸ë“œì˜ ìˆ˜ëŠ” ëŒ€ëµ $K-N+1 \le K$ ì´ë‹¤.($K\le N$ ì¸ ê²½ìš°ëŠ” ì•ì„œì„œ ì²˜ë¦¬í–ˆë‹¤ê³  ë³¸ë‹¤.) ê·¸ë¦¬ê³  ê°„ì„ ì˜ ê²½ìš°ë„ ê° ë…¸ë“œë³„ë¡œ ëŒ€ëµ 3ê°œì”© ê°„ì„ ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•˜ë©´ ê°„ì„ ì˜ ê°œìˆ˜ëŠ” $3K$ê°œì¼ ê²ƒì´ê³  (ì‹¤ì œë¡œëŠ” ì´ê²ƒë³´ë‹¤ ë§ì„ ê²ƒì´ë‹¤), ì´ë¥¼ Big-O í‘œí˜„ë²•ìœ¼ë¡œ ë‚˜íƒ€ë‚´ë©´ $O(K \log K)$ì¼ ê²ƒì´ë‹¤.

0-1 BFS ì‹œê°„ë³µì¡ë„ $O(E+V)$ì´ê³  ìœ„ì—ì„œ ì¶”ì •í•œ ì¶”ì •ì¹˜ë¥¼ í†µí•´ ì‹œê°„ë³µì¡ë„ë¥¼ ëŒ€ëµì ìœ¼ë¡œ êµ¬í•˜ë©´ $O(K)$ì´ë‹¤

ë”°ë¼ì„œ 0-1 BFSê°€ ë‹¤ìµìŠ¤íŠ¸ë¼ë³´ë‹¤ ì‹œê°„ë³µì¡ë„ ë©´ì—ì„œ ë” ë‚˜ì€ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.