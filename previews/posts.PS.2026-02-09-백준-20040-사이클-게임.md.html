
      <html lang="ko">
      <head>
        <title>20040 - ì‚¬ì´í´ ê²Œì„</title>
        <link rel="canonical" href="http://yuyeol3.github.io/"/>
        <meta charset="utf-8"/>
        <meta name="description" content="ì´ ë¬¸ì œëŠ” ì‚¬ì´í´ ê²Œì„ì„ í•  ë•Œ, ì‚¬ì´í´ ê²Œì„ì—ì„œ ì‚¬ì´í´ì´ ëª‡ ë²ˆì§¸ ì°¨ë¡€ì—ì„œ ì™„ì„±ë˜ì—ˆëŠ”ì§€ íŒë³„í•´ì•¼ í•˜ëŠ” ë¬¸ì œì´ë‹¤. ì—¬ê¸°ì„œ ì‚¬ì´í´ ê²Œì„ì´ë€ ë‘ í”Œë ˆì´ì–´ê°€ ë²ˆê°ˆì•„ê°€ë©° nê°œì˜ ì ì— ëŒ€í•´ ì„ ë¶„ì„ ê¸‹ëŠ” ê²Œì„ìœ¼ë¡œ, ì‚¬ì´í´ì´ ì™„ì„±ë˜ë©´ ê²Œì„ì´ ì¢…ë£Œëœë‹¤.">
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      </head>
      <body style="display : none;">
        
        <h1>20040 - ì‚¬ì´í´ ê²Œì„</h1>
<p>ì´ ë¬¸ì œëŠ” ì‚¬ì´í´ ê²Œì„ì„ í•  ë•Œ, ì‚¬ì´í´ ê²Œì„ì—ì„œ ì‚¬ì´í´ì´ ëª‡ ë²ˆì§¸ ì°¨ë¡€ì—ì„œ ì™„ì„±ë˜ì—ˆëŠ”ì§€ íŒë³„í•´ì•¼ í•˜ëŠ” ë¬¸ì œì´ë‹¤. ì—¬ê¸°ì„œ ì‚¬ì´í´ ê²Œì„ì´ë€ ë‘ í”Œë ˆì´ì–´ê°€ ë²ˆê°ˆì•„ê°€ë©° nê°œì˜ ì ì— ëŒ€í•´ ì„ ë¶„ì„ ê¸‹ëŠ” ê²Œì„ìœ¼ë¡œ, ì‚¬ì´í´ì´ ì™„ì„±ë˜ë©´ ê²Œì„ì´ ì¢…ë£Œëœë‹¤. </p>
<p>ì´ ë¬¸ì œì—ì„œ í”Œë ˆì´ì–´ë“¤ì´ ê·¸ì€ ì„ ë¶„ì´ ì‚¬ì´í´ì„ ì´ë£¨ëŠ” ìˆœê°„ì„ ì–´ë–»ê²Œ ì¸ì‹í•  ìˆ˜ ìˆì„ê¹Œ? ë¨¼ì € ì‚¬ì´í´ì´ ì–´ë–¤ íŠ¹ì„±ì„ ê°–ëŠ”ì§€ë¶€í„° ìƒê°í•´ë³´ì. ì–´ë–¤ ì ì„ ì„ ë¶„ìœ¼ë¡œ ì—°ê²°í–ˆì„ ë•Œ, ê·¸ ì„ ë¶„ë“¤ì´ ì‚¬ì´í´ì„ ì´ë£¬ë‹¤ë©´, ì–´ë–¤ ì ì„ ì‹œì‘ì ìœ¼ë¡œ ì¡ì•˜ì„ ë•Œ ì„ ë¶„ì„ íƒ€ê³  ê³„ì† ì´ë™í•˜ë‹¤ ë³´ë©´ ìµœì¢…ì ìœ¼ë¡œ ì‹œì‘ì ì— ë‹¤ì‹œ ë„ë‹¬í•˜ê²Œ ëœë‹¤. ì¦‰ ì‚¬ì´í´ì„ ì´ë£¨ëŠ” ì„ì˜ì˜ ì ì€ ì•ìœ¼ë¡œ ì´ë™í•˜ë“  ë’¤ë¡œ ì´ë™í•˜ë“  ì‹œì‘ì ì— ë„ë‹¬í•œë‹¤. </p>
<blockquote>
<img width="100%" alt="image" src="https://github.com/user-attachments/assets/08204431-0856-4e9a-b1cf-83ea1affab08" /></blockquote>
<p>ìœ„ íƒêµ¬ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì‚¬ì´í´ì´ ìƒì„±ë˜ëŠ” ì¡°ê±´ì„ ì˜ ìƒê°í•´ë³´ì. ì–´ë–¤ ì ì´ ì´ë¯¸ ì„ì˜ì˜ ì‹œì‘ì  së¡œ ì´ë™í•  ìˆ˜ ìˆê³ , ë™ì‹œì— ìƒˆ ì„ ë¶„ì„ í†µí•´ ë‹¤ì‹œ sì™€ ì—°ê²°ë  ë•Œ ì‚¬ì´í´ì´ ìƒê¸´ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ì— ì—°ê²°ëœ ì ë“¤ì˜ ì‹œì‘ì ì´ ì–´ë””ì¸ì§€ ê´€ë¦¬í•´ë‘ê³  ì„ ë¶„ì— ì˜í•´ ìƒˆë¡œ ì—°ê²°ë˜ëŠ” ë‘ ì ì˜ ì‹œì‘ì ì´ ì„œë¡œ ê°™ë‹¤ë©´ ì‚¬ì´í´ì´ ìƒì„±ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•  ìˆ˜ ìˆë‹¤. </p>
<p>ì§ê´€ì„ ì¼ë°˜í™”í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<blockquote>
<p>ë¬´ë°©í–¥ ê·¸ë˜í”„ì—ì„œ ê°„ì„  (a, b)ë¥¼ ì¶”ê°€í•  ë•Œ aì™€ bê°€ ì´ë¯¸ ê°™ì€ ì—°ê²°ìš”ì†Œ(ê°™ì€ ì§‘í•©)ì— ìˆìœ¼ë©´, ê·¸ ê°„ì„ ì„ ì¶”ê°€í•˜ëŠ” ìˆœê°„ ì‚¬ì´í´ì´ ìƒê¸´ë‹¤.</p>
</blockquote>
<p>ìœ„ ë…¼ë¦¬ë¥¼ ê°„í¸í•˜ê¸° êµ¬í˜„í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ê²ƒì´ disjoint set(union-find) ì´ë‹¤. ì„ ë¶„ì´ ìƒˆë¡œ ì—°ê²°ë  ë•Œë§ˆë‹¤ <code>union</code> ì—°ì‚°ì„ í†µí•´ ê°™ì€ ì§‘í•©ì— ë‹´ì•„ë‘ê³ , ë‘ ì ì˜ ì‹œì‘ì ì´ ê°™ì€ ì ì¸ì§€ ê²€ì‚¬í•˜ê¸° ìœ„í•´ <code>find</code> ì—°ì‚°ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p>
<p><a href="https://boj.kr/20040">ğŸ”— ë¬¸ì œ ë§í¬</a></p>
<h2>ì½”ë“œ</h2>
<p>ë¨¼ì € union-find êµ¬í˜„ ì½”ë“œë¥¼ ì‚´í´ë³´ì. <code>parent</code> ë°°ì—´ì˜ ê²½ìš° ê° ì›ì†Œì˜ ë£¨íŠ¸ë¥¼ ì €ì¥í•´ë‘ê¸° ìœ„í•œ ë³€ìˆ˜ì´ê³ , <code>rank</code>ì˜ ê²½ìš° ê° ì›ì†Œì˜ íŠ¸ë¦¬ì— ëŒ€í•œ ë³‘í•© ê¸°ì¤€ì„ ì €ì¥í•´ë‘ê¸° ìœ„í•œ ë³€ìˆ˜ì´ë‹¤. <code>init</code> í•¨ìˆ˜ì˜ ê²½ìš° union-findê°€ ë‹¤ë£° ì›ì†Œì˜ ê°œìˆ˜ <code>n</code>ì„ ì¸ìë¡œ ë°›ì•„ ë°°ì—´ì„ í• ë‹¹í•˜ê³ , ê° ì›ì†Œì˜ parentë¥¼ ìê¸° ìì‹ ì˜ ë²ˆí˜¸ë¡œ ì„¤ì •í•´ ë‘”ë‹¤. <code>union</code> í•¨ìˆ˜ì˜ ê²½ìš° ì„œë¡œ ë‹¤ë¥¸ ë‘ ì§‘í•© a, bì˜ í•©ì§‘í•©ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜ì´ê³ , <code>find</code>ëŠ” ì›ì†Œ xê°€ ì†í•œ ì§‘í•©, í˜¹ì€ ì›ì†Œ xê°€ ì†í•œ ì§‘í•©ì˜ ëŒ€í‘œê°’ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜ë¡œ í•´ì„í•  ìˆ˜ ìˆë‹¤. ì´ êµ¬í˜„ì˜ ê²½ìš° Path compression ë° Union by rankë¥¼ ì ìš©í•˜ì—¬ ì‹œê°„ë³µì¡ë„ë¥¼ ì¤„ì˜€ë‹¤.</p>
<pre><code class="language-java">static int[] parent;
static int[] rank;

static void init(int n) {
    parent = new int[n];
    rank = new int[n];
    for (int i = 0; i &lt; n; i++) {
        parent[i] = i;
    }
}

static void union(int a, int b) {
    int rootA = find(a);
    int rootB = find(b);

    if (rank[rootA] &lt; rank[rootB]) {
        int tmp = rootA;
        rootA = rootB;
        rootB = tmp;
    }

    rank[rootA] += rank[rootA] == rank[rootB] ? 1 : 0;
    parent[rootB] = rootA;
}

static int find(int x) {
    if (x == parent[x]) return x;
    parent[x] = find(parent[x]);
    return parent[x];
}
</code></pre>
<p>ë©”ì¸ í•¨ìˆ˜ì—ì„œ ì ì˜ ê°œìˆ˜ <code>n</code>ê³¼ ê·¸ì€ ì„ ë¶„ì˜ ê°œìˆ˜ <code>m</code>ì„ ì…ë ¥ë°›ëŠ”ë‹¤. ê° ì ë“¤ì— ëŒ€í•´ ì‹œì‘ì ì´ ì–´ë”˜ì§€ ë‹¤ë£° ê²ƒì´ë¯€ë¡œ <code>n</code>ìœ¼ë¡œ disjoint set í¬ê¸°ë¥¼ ì„¤ì •í•´ ì´ˆê¸°í™”í•œë‹¤.</p>
<pre><code class="language-java">public static void main(String[] args) throws IOException {
    StringTokenizer st = new StringTokenizer(br.readLine());

    int n = Integer.parseInt(st.nextToken());
    int m = Integer.parseInt(st.nextToken());

    init(n);
</code></pre>
<p>ë‹¤ìŒìœ¼ë¡œ ì„ ë¶„ì˜ ì—°ê²° ì •ë³´ë¥¼ ì…ë ¥ë°›ì•„ ì‚¬ì´í´ì´ ì™„ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤. ì„ ë¶„ì´ ì‡ëŠ” ì  a, bë¥¼ ì…ë ¥ë°›ì€ ë’¤, aì˜ ì‹œì‘ì ê³¼ bì˜ ì‹œì‘ì ì´ ê°™ì€ì§€ ê²€ì‚¬í•œë‹¤. ë§Œì•½ ê°™ì„ ê²½ìš° ì‚¬ì´í´ì´ ì™„ì„±ëœ ê²ƒì´ë¯€ë¡œ ì™„ì„±ëœ ìˆœì„œë¥¼ ì¶œë ¥í•´ì¤€ ë’¤ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤. ë§Œì•½ ì‹œì‘ì ì´ ê°™ì§€ ì•Šì„ ê²½ìš° union ì—°ì‚°ì„ í†µí•´ ê°™ì€ ì‹œì‘ì ì„ ê°€ì§€ë„ë¡ ì²˜ë¦¬í•´ì¤€ë‹¤. ë§Œì•½ mê°œì˜ ì„ ë¶„ì— ëŒ€í•´ ëª¨ë‘ í™•ì¸í•˜ì—¬ë„ ì‚¬ì´í´ì´ ì™„ì„±ë˜ì§€ ì•Šì•˜ë‹¤ë©´, ì•„ì§ ì¢…ë£Œë˜ì§€ ì•Šì€ ê²ƒì´ë¯€ë¡œ 0ì„ ì¶œë ¥í•œë‹¤. </p>
<pre><code class="language-java">    for (int i = 0; i &lt; m; i++) {
        st = new StringTokenizer(br.readLine());
        int a = Integer.parseInt(st.nextToken());
        int b = Integer.parseInt(st.nextToken());

        if (find(a) == find(b)) {
            System.out.println(i+1);
            return;
        }

        union(a, b);
    }
    System.out.println(0);
}
</code></pre>
<h2>ì „ì²´ ì½”ë“œ</h2>
<pre><code class="language-java">import java.util.*;
import java.io.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    static int[] parent;
    static int[] rank;

    static void init(int n) {
        parent = new int[n];
        rank = new int[n];
        for (int i = 0; i &lt; n; i++) {
            parent[i] = i;
        }
    }

    static void union(int a, int b) {
        int rootA = find(a);
        int rootB = find(b);

        if (rank[rootA] &lt; rank[rootB]) {
            int tmp = rootA;
            rootA = rootB;
            rootB = tmp;
        }

        rank[rootA] += rank[rootA] == rank[rootB] ? 1 : 0;
        parent[rootB] = rootA;
    }

    static int find(int x) {
        if (x == parent[x]) return x;
        parent[x] = find(parent[x]);
        return parent[x];
    }

    public static void main(String[] args) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());

        int n = Integer.parseInt(st.nextToken());
        int m = Integer.parseInt(st.nextToken());

        init(n);
        for (int i = 0; i &lt; m; i++) {
            st = new StringTokenizer(br.readLine());
            int a = Integer.parseInt(st.nextToken());
            int b = Integer.parseInt(st.nextToken());

            if (find(a) == find(b)) {
                System.out.println(i+1);
                return;
            }

            union(a, b);
        }
        System.out.println(0);
    }
}
</code></pre>
<h2>ì‹œê°„ë³µì¡ë„</h2>
<p><code>union</code> í˜¹ì€ <code>find</code> ì—°ì‚°ì„ í•œ ë²ˆ ìˆ˜í–‰í•  ë•Œì˜ ì‹œê°„ë³µì¡ë„ëŠ” $O(\alpha(n))$ìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìœ¼ë©°, ì´ ë¬¸ì œì—ì„œëŠ” ì—°ì‚°ì„ ìµœëŒ€ $m$ë²ˆ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— ì´ í”„ë¡œê·¸ë¨ì˜ ì‹œê°„ë³µì¡ë„ëŠ” $O(m \cdot \alpha(n))$ ì´ ëœë‹¤. </p>

        <script>
          location.href = "/post-view?href=posts%2FPS%2F2026-02-09-%EB%B0%B1%EC%A4%80-20040-%EC%82%AC%EC%9D%B4%ED%81%B4-%EA%B2%8C%EC%9E%84.md"
        </script>
      </body>
  