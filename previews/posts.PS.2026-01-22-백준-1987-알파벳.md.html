
      <html lang="ko">
      <head>
        <title>1987 - ì•ŒíŒŒë²³</title>
        <link rel="canonical" href="http://yuyeol3.github.io/"/>
        <meta charset="utf-8"/>
        <meta name="description" content="ì´ ë¬¸ì œëŠ” ë³´ë“œì˜ í¬ê¸°ì™€ ì•ŒíŒŒë²³ì´ ì íŒ ë³´ë“œê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê°™ì€ ì•ŒíŒŒë²³ì„ ë‘ ë²ˆ ì´ìƒ í¬í•¨í•˜ì§€ ì•Šìœ¼ë©´ì„œ ê°€ì¥ ë©€ë¦¬ ê°ˆ ìˆ˜ ìˆëŠ” ê²½ë¡œë¥¼ ì°¾ëŠ” ë¬¸ì œì´ë‹¤.">
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      </head>
      <body style="display : none;">
        
        <h1>1987 - ì•ŒíŒŒë²³</h1>
<p>ì´ ë¬¸ì œëŠ” ë³´ë“œì˜ í¬ê¸°ì™€ ì•ŒíŒŒë²³ì´ ì íŒ ë³´ë“œê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê°™ì€ ì•ŒíŒŒë²³ì„ ë‘ ë²ˆ ì´ìƒ í¬í•¨í•˜ì§€ ì•Šìœ¼ë©´ì„œ ê°€ì¥ ë©€ë¦¬ ê°ˆ ìˆ˜ ìˆëŠ” ê²½ë¡œë¥¼ ì°¾ëŠ” ë¬¸ì œì´ë‹¤.</p>
<p>ì–¼í• ë³´ë©´ BFS ìµœë‹¨ê±°ë¦¬ ë¬¸ì œì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ì‚¬ì‹¤ì€ ë°±íŠ¸ë˜í‚¹ ë¬¸ì œì´ë‹¤. ì´ ë¬¸ì œì˜ ê²½ìš° ê²½ë¡œë³„ë¡œ ë°©ë¬¸í•œ ì•ŒíŒŒë²³ì˜ ì¢…ë¥˜ê°€ ë‹¤ë¥´ê³ , ìƒíƒœë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë°±íŠ¸ë˜í‚¹ìœ¼ë¡œ í’€ì–´ì•¼ í•œë‹¤.</p>
<p><a href="https://boj.kr/1987">ğŸ”— ë¬¸ì œ ë§í¬</a></p>
<h2>ì½”ë“œ</h2>
<p>í•„ìš”í•œ ë³€ìˆ˜ë“¤ì„ ë¨¼ì € ì„ ì–¸í•œë‹¤. <code>dx</code>, <code>dy</code>ì˜ ê²½ìš° ê²©ìíŒì—ì„œ ìƒíƒœì˜ ì´ë™ì„ ì‰½ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì •ì˜í•œ ë°°ì—´ë¡œ, ê°ê° ì•„ë˜ìª½, ì˜¤ë¥¸ìª½, ìœ„ìª½, ì™¼ìª½ ì´ë™ë°©í–¥ì„ ì˜ë¯¸í•œë‹¤. <code>R</code>, <code>C</code>ëŠ” ë³´ë“œì˜ ì„¸ë¡œ, ê°€ë¡œ í¬ê¸°ì´ë‹¤. ë˜í•œ <code>board</code>ì—ëŠ” í–‰ë³„ë¡œ ê°€ì§€ê³  ìˆëŠ” ì•ŒíŒŒë²³ì˜ ë¬¸ìì—´ì„ ì €ì¥í•œë‹¤. <code>maximum</code>ì€ ë§ì´ ì§€ë‚  ìˆ˜ ìˆëŠ” ìµœëŒ€ì˜ ì¹¸ ìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜ì´ë‹¤.</p>
<pre><code class="language-java">class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    static int[] dx = {1, 0, -1, 0};
    static int[] dy = {0, 1, 0, -1};
    static int R, C;
    static String[] board;
    static int maximum = 0;
</code></pre>
<p>main í•¨ìˆ˜ì—ì„œ ë³´ë“œì˜ í¬ê¸°ë¥¼ ë¨¼ì € ì…ë ¥ë°›ì€ ë’¤ <code>board</code> ë°°ì—´ì˜ í¬ê¸°ë¥¼ <code>R</code>ë¡œ ì¡ëŠ”ë‹¤. ê·¸ëŸ° ë‹¤ìŒ í–‰ë³„ë¡œ ë¬¸ìì—´ì„ ì…ë ¥ë°›ì•„ <code>board</code>ì— ì €ì¥í•œë‹¤.</p>
<pre><code class="language-java">public static void main(String[] args) throws IOException {
    StringTokenizer st = new StringTokenizer(br.readLine());
    R = Integer.parseInt(st.nextToken());
    C = Integer.parseInt(st.nextToken());

    board = new String[R];

    for (int i = 0; i &lt; R; i++) {
        board[i] = br.readLine();
    }
</code></pre>
<p>ë‹¤ìŒìœ¼ë¡œ ë¯¸ë¦¬ ì •ì˜í•´ë‘” dfs í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ë¬¸ì œì—ì„œ ë§ì€ ì¢Œì¸¡ ìƒë‹¨ì— ìˆë‹¤ê³  í•˜ì˜€ìœ¼ë¯€ë¡œ (0, 0) ë¶€í„° ì‹œì‘í•˜ê³ , (0,0)ì— ìˆëŠ” ì•ŒíŒŒë²³ì€ ë°©ë¬¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•˜ë¯€ë¡œ ë¹„íŠ¸ë§ˆìŠ¤í‚¹ì„ ì‚¬ìš©í•´ <code>1 &lt;&lt; (board[0].charAt(0) - &#39;A&#39;)</code> ë¡œ í•´ë‹¹ ì•ŒíŒŒë²³ì˜ ë¹„íŠ¸ë¥¼ 1ë¡œ ì¡°ì‘í•´ì¤€ë‹¤.</p>
<pre><code class="language-java">    dfs(
        0, 0, 
        (1 &lt;&lt; (board[0].charAt(0) - &#39;A&#39;)), 
        1
    );
</code></pre>
<p>dfs í•¨ìˆ˜ì˜ ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ë¨¼ì € <code>dist</code>ê°€ <code>maximum</code>ë³´ë‹¤ í¬ë‹¤ë©´ ìµœëŒ€ê°’ì„ ì—…ë°ì´íŠ¸í•œë‹¤. ë˜í•œ <code>maximum</code>ì´ ì´ë¯¸ 26ì´ë¼ë©´ ë” ì´ìƒ íƒìƒ‰í•´ë„ <code>dist</code>ê°€ ì»¤ì§ˆ ê°€ëŠ¥ì„±ì´ ì—†ìœ¼ë¯€ë¡œ returní•œë‹¤. (ì•ŒíŒŒë²³ì˜ ê°œìˆ˜ëŠ” 26ê°œì´ê³  ê° ì•ŒíŒŒë²³ì€ ì „ì²´ ê²½ë¡œì— í•œ ë²ˆì”©ë§Œ ë“±ì¥í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê²½ë¡œì˜ ìµœëŒ€ ê¸¸ì´ëŠ” 26ì´ë‹¤.)</p>
<p>ë˜í•œ í˜„ì¬ ì‚¬ìš©í•˜ì§€ ì•Šì€ ì•ŒíŒŒë²³ê³¼ í˜„ì¬ ê±°ë¦¬ë¥¼ ë”í–ˆì„ ë•Œ ìµœëŒ€ê°’ë³´ë‹¤ ì‘ë‹¤ë©´ ìœ ë§í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê°€ì§€ì¹˜ê¸°(return)í•œë‹¤.</p>
<p>ìœ„ ì¡°ê±´ì„ ëª¨ë‘ í†µê³¼í–ˆë‹¤ë©´ ë‹¤ìŒ ìƒíƒœë¥¼ íƒìƒ‰í•œë‹¤. í˜„ì¬ì˜ ìƒíƒœì—ì„œ ë°©ë¬¸ ê°€ëŠ¥í•œ ë°©í–¥ì€ ìµœëŒ€ 4ê°œì´ë‹¤. ê·¸ëŸ°ë° ë°©ë¬¸í–ˆë˜ ê²½ë¡œì˜ ì—­ë°©í–¥ìœ¼ë¡œëŠ” ë‹¹ì—°íˆ ê°ˆ ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ê²°ë¡ ì ìœ¼ë¡œëŠ” ìµœëŒ€ 3ê°œì˜ ë°©í–¥ì„ íƒìƒ‰í•˜ê²Œ ëœë‹¤. </p>
<p>ê° ë°©í–¥ë³„ë¡œ <code>nx = x + dx[i]</code>, <code>ny = y + dy[i]</code>ë¥¼ í†µí•´ ë‹¤ìŒ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ê³ , ì´ ìœ„ì¹˜ê°€ ë³´ë“œ ë²”ìœ„ ë‚´ì¸ì§€ í™•ì¸í•œë‹¤. ë§Œì•½ ë³´ë“œ ë²”ìœ„ ë‚´ë¼ë©´, ë‹¤ìŒ ìœ„ì¹˜ì— ìˆëŠ” ì•ŒíŒŒë²³ì´ ê²½ë¡œì— ì´ë¯¸ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ë‘ ì¡°ê±´ ëª¨ë‘ ë¬¸ì œê°€ ì—†ë‹¤ë©´ dfs í•¨ìˆ˜ë¥¼ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤. </p>
<p>ë‹¤ìŒ ìœ„ì¹˜ì¸ <code>nx, ny</code>ë¥¼ ì¸ìì— ë„£ëŠ”ë‹¤. ë˜í•œ ë‹¤ìŒ ìœ„ì¹˜ì— ìˆëŠ” ì•ŒíŒŒë²³ì— ëŒ€í•œ ë°©ë¬¸ ì²˜ë¦¬ë„ í•´ì•¼ í•˜ë¯€ë¡œ <code>mask | (1 &lt;&lt; (board[nx].charAt(ny) - &#39;A&#39;))</code> ë¥¼ í†µí•´ ì•ŒíŒŒë²³ì˜ ë¹„íŠ¸ë¥¼ 1ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤. ê±°ë¦¬ë„ 1 ì¦ê°€í•œ ê²ƒì´ë¯€ë¡œ <code>dist+1</code>ì„ ì¸ìì— ë„£ì–´ ì¤€ë‹¤.</p>
<pre><code class="language-java">public static void dfs(int x, int y, int mask, int dist) {
    if (dist &gt; maximum) maximum = dist;
    if (maximum == 26) return;


    for (int i = 0; i &lt; 4; i++) {
        int nx = x + dx[i];
        int ny = y + dy[i];

        if (nx &lt; 0 || nx &gt;= R || ny &lt; 0 || ny &gt;= C) continue;
        if (((mask &gt;&gt; (board[nx].charAt(ny) - &#39;A&#39;)) &amp; 1) == 1) continue;

        dfs(nx, ny, mask | (1 &lt;&lt; (board[nx].charAt(ny) - &#39;A&#39;)), dist+1);
    }
}
</code></pre>
<p>dfsë¥¼ ì™„ë£Œí•˜ë©´ maximumì— ë§ì´ ê°ˆ ìˆ˜ ìˆëŠ” ìµœì¥ ê²½ë¡œê°€ ì €ì¥ë˜ì–´ ìˆë‹¤. ë”°ë¼ì„œ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤. </p>
<pre><code class="language-java">    System.out.println(maximum);
}
</code></pre>
<h2>ì „ì²´ ì½”ë“œ</h2>
<pre><code class="language-java">import java.io.*;
import java.util.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    static int[] dx = {1, 0, -1, 0};
    static int[] dy = {0, 1, 0, -1};
    static int R, C;
    static String[] board;
    static int maximum = 0;
    public static void main(String[] args) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());
        R = Integer.parseInt(st.nextToken());
        C = Integer.parseInt(st.nextToken());

        board = new String[R];

        for (int i = 0; i &lt; R; i++) {
            board[i] = br.readLine();
        }

        dfs(0, 0, (1 &lt;&lt; (board[0].charAt(0) - &#39;A&#39;)), 1);

        System.out.println(maximum);
    }

    public static void dfs(int x, int y, int mask, int dist) {
        if (dist &gt; maximum) maximum = dist;
        if (maximum == 26) return;

        int used = Integer.bitCount(mask);
        if (dist + (26 - used) &lt;= maximum) return;

        for (int i = 0; i &lt; 4; i++) {
            int nx = x + dx[i];
            int ny = y + dy[i];

            if (nx &lt; 0 || nx &gt;= R || ny &lt; 0 || ny &gt;= C) continue;
            if (((mask &gt;&gt; (board[nx].charAt(ny) - &#39;A&#39;)) &amp; 1) == 1) continue;

            dfs(nx, ny, mask | (1 &lt;&lt; (board[nx].charAt(ny) - &#39;A&#39;)), dist+1);
        }
    }
}
</code></pre>
<h2>ì‹œê°„ë³µì¡ë„</h2>
<p>ì•ì„œ ë§í–ˆë“¯ ì´ ë¬¸ì œëŠ” ì‚¬ì‹¤ìƒ ë°±íŠ¸ë˜í‚¹ì´ë‹¤. ê° ë‹¨ê³„ë³„ë¡œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ë¶„ê¸°ëŠ” 3ê°œì´ê³  ë‹¨ê³„ëŠ” ì•„ë¬´ë¦¬ ì»¤ë„ ì•ŒíŒŒë²³ ê°œìˆ˜ì˜ ì œí•œ ë•Œë¬¸ì— 26ê°œì´ë‹¤. ë³´ë“œ ì¹¸ì˜ í¬ê¸°ê°€ 26ê°œë³´ë‹¤ ì‘ë‹¤ë©´ ë‹¨ê³„ëŠ” $RC$ ê°œì¼ ê²ƒì´ë‹¤. ë”°ë¼ì„œ ì´ë¥¼ ì‹ìœ¼ë¡œ ì˜®ê¸°ë©´ $O(3^{\min(26, RC)})$ì´ë‹¤. </p>
<p>ìµœì•…ì˜ ê²½ìš° ì—°ì‚° íšŸìˆ˜ëŠ” ëŒ€ëµ $3^{26}$ì´ê³  ì´ëŠ” 2ì¡°ë¡œ ë§¤ìš° í¬ë‹¤. í•˜ì§€ë§Œ ì‹¤ì œë¡œ ì´ ë¬¸ì œì—ì„œëŠ” ì•ŒíŒŒë²³ ê°œìˆ˜ì— ë”°ë¼ ë°©ë¬¸í•  ìˆ˜ ìˆëŠ” ì¸ì ‘ ë…¸ë“œê°€ ê¸‰ê²©íˆ ì¤„ì–´ë“ ë‹¤. ë”°ë¼ì„œ ë¬¸ì œë¥¼ 2ì´ˆ ë‚´ì— í†µê³¼í•  ìˆ˜ ìˆë‹¤.</p>

        <script>
          location.href = "/post-view?href=posts%2FPS%2F2026-01-22-%EB%B0%B1%EC%A4%80-1987-%EC%95%8C%ED%8C%8C%EB%B2%B3.md"
        </script>
      </body>
  