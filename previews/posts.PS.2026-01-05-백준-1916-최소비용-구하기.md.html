
      <html lang="ko">
      <head>
        <title>1916 - ìµœì†Œë¹„ìš© êµ¬í•˜ê¸°</title>
        <link rel="canonical" href="http://yuyeol3.github.io/"/>
        <meta charset="utf-8"/>
        <meta name="description" content="ì´ ë¬¸ì œëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ì „í˜•ì ì¸ ë¬¸ì œì´ë‹¤. ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì´ë€, ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ê·¸ë˜í”„ì—ì„œ í•˜ë‚˜ì˜ ì‹œì‘ ì •ì ìœ¼ë¡œë¶€í„° ë‹¤ë¥¸ ëª¨ë“  ì •ì ê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. ì´ ë¬¸ì œì—ì„œ ì •ì ì€ ë„ì‹œì´ê³ , ê°„ì„ ì€ ê° ë„ì‹œë¥¼ ì‡ëŠ” ë²„ìŠ¤ì´ë©°, ê°€ì¤‘ì¹˜ëŠ” ë²„ìŠ¤ ë¹„ìš©ì´ë‹¤.">
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      </head>
      <body style="display : none;">
        
        <h1>1916 - ìµœì†Œë¹„ìš© êµ¬í•˜ê¸°</h1>
<p>ì´ ë¬¸ì œëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ì „í˜•ì ì¸ ë¬¸ì œì´ë‹¤. ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì´ë€, ê°€ì¤‘ì¹˜ê°€ ìˆëŠ” ê·¸ë˜í”„ì—ì„œ í•˜ë‚˜ì˜ ì‹œì‘ ì •ì ìœ¼ë¡œë¶€í„° ë‹¤ë¥¸ ëª¨ë“  ì •ì ê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. ì´ ë¬¸ì œì—ì„œ ì •ì ì€ ë„ì‹œì´ê³ , ê°„ì„ ì€ ê° ë„ì‹œë¥¼ ì‡ëŠ” ë²„ìŠ¤ì´ë©°, ê°€ì¤‘ì¹˜ëŠ” ë²„ìŠ¤ ë¹„ìš©ì´ë‹¤. </p>
<p><a href="https://www.acmicpc.net/problem/1916">ğŸ”— ë¬¸ì œ ë§í¬</a></p>
<h2>ì½”ë“œ</h2>
<p>ì½”ë“œë¥¼ ì‚´í´ë³´ë©° ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì´ ì–´ë–»ê²Œ ì§„í–‰ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì.</p>
<p><code>Edge</code>ì™€ <code>State</code> í´ë˜ìŠ¤ëŠ” ê·¸ë˜í”„ë‚˜ ìš°ì„ ìˆœìœ„ íì—ì„œ ë‹´ê¸°ëŠ” ìë£Œí˜•ì„ í‘œí˜„í•œ ê²ƒì´ë‹¤. <code>Edge</code>ëŠ” ê·¸ë˜í”„ì—ì„œ ê°„ì„ ì„, <code>State</code>ëŠ” ìš°ì„ ìˆœìœ„ íì—ì„œ íƒìƒ‰ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚¼ ìë£Œí˜•ì´ë‹¤. ì´ ë¬¸ì œì—ì„œ íƒìƒ‰ ìƒíƒœë€ ì–´ë–¤ ë…¸ë“œ(ë„ì‹œ)ì— ìœ„ì¹˜í•´ ìˆëŠ”ì§€ì™€, ê·¸ ë…¸ë“œë¡œ ì´ë™í•˜ëŠ”ë° ì–¼ë§ˆë‚˜ ë§ì€ ë¹„ìš©ì´ ë“¤ì—ˆëŠ”ì§€ë¡œ ì •ì˜í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p>
<pre><code class="language-java">class State {
    public long dist;
    public int node;

    public State(long dist, int node) {
        this.node = node;
        this.dist = dist;
    }
}

class Edge {
    public int cost;
    public int node;

    public Edge(int node, int cost) {
        this.node = node;
        this.cost = cost;
    }
}
</code></pre>
<p>main í•¨ìˆ˜ì—ì„œ ë¨¼ì € Nê³¼ Mì„ ì…ë ¥ë°›ì€ ë’¤ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ê·¸ë˜í”„ë¥¼ ì„ ì–¸í•œë‹¤. ê·¸ëŸ° ë‹¤ìŒ ê°„ì„  ì •ë³´ë¥¼ Më²ˆ ì½ì–´ë“¤ì—¬ ê·¸ë˜í”„ì— ì €ì¥í•œë‹¤. ì´ ë¬¸ì œì—ì„œ ë²„ìŠ¤ëŠ” ì¶œë°œ ë„ì‹œì™€ ë„ì°© ë„ì‹œê°€ ì •í•´ì ¸ ìˆìœ¼ë¯€ë¡œ ìœ í–¥ ê·¸ë˜í”„ì´ê³  ë”°ë¼ì„œ ëŒ€ì¹­ì ìœ¼ë¡œ ì—°ê²° ê´€ê³„ë¥¼ ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ë˜í•œ ê°™ì€ ì¶œë°œì§€ì™€ ëª©ì ì§€ì— ëŒ€í•´ ë‹¤ë¥¸ ë¹„ìš©ì˜ ë²„ìŠ¤ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì§€ê¸ˆì²˜ëŸ¼ Edgeë¥¼ ì›ì†Œë¡œ ê°–ëŠ” ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì €ì¥í•˜ê±°ë‚˜, MultiSetì„ ì¨ì•¼ í•œë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìš°ë¦¬ê°€ ìµœì†Œë¹„ìš©ì„ êµ¬í•´ì•¼ í•˜ëŠ” ì¶œë°œì ê³¼ ë„ì°©ì  ë…¸ë“œ ë²ˆí˜¸ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤.</p>
<pre><code class="language-java">public static void main(String[] args) throws IOException {
    int N = Integer.parseInt(br.readLine());
    int M = Integer.parseInt(br.readLine());

    @SuppressWarnings(&quot;unchecked&quot;)
    List&lt;Edge&gt;[] graph = new ArrayList[N+5];
    for (int i = 0; i &lt; N+5; i++)
        graph[i] = new ArrayList&lt;&gt;();

    StringTokenizer s;
    for (int i = 0; i &lt; M; i++) {
        s = new StringTokenizer(br.readLine());

        int a, b, e;
        a = Integer.parseInt(s.nextToken());
        b = Integer.parseInt(s.nextToken());
        e = Integer.parseInt(s.nextToken());

        graph[a].add(new Edge(b, e));
    }

    s = new StringTokenizer(br.readLine());
    int st, ed;
    st = Integer.parseInt(s.nextToken());
    ed = Integer.parseInt(s.nextToken());
</code></pre>
<h3>1. ì´ˆê¸°í™”</h3>
<p>ì¶œë°œ ì •ì ì—ì„œ ê° ì •ì ê¹Œì§€ì˜ ìµœë‹¨ê±°ë¦¬ë¥¼ ì €ì¥í•´ ë‘˜ <code>distances</code> ë°°ì—´ì„ ì„ ì–¸í•œë‹¤. ì¶œë°œ ì •ì ì˜ ê±°ë¦¬ëŠ” 0ìœ¼ë¡œ ì„¤ì •í•˜ê³ , ë‚˜ë¨¸ì§€ ëª¨ë“  ì •ì ì˜ ê±°ë¦¬ëŠ” <code>INF</code>(=100000L * 100000L + 1)ë¡œ ì„¤ì •í•´ë‘”ë‹¤. ë˜í•œ <code>State</code> ê°ì²´ë¥¼ ì›ì†Œë¡œ ê°€ì§€ê³  <code>dist</code> ì†ì„±ì„ ê¸°ì¤€ìœ¼ë¡œ ìµœì†Œ í™ì˜ ì„±ì§ˆì„ ê°€ì§€ëŠ” ìš°ì„ ìˆœìœ„ íë¥¼ ì„ ì–¸í•œë‹¤. ê°€ì¥ ë¨¼ì € íƒìƒ‰í•  ì‹œì‘ì ì„ ìš°ì„ ìˆœìœ„ íì— ë„£ëŠ”ë‹¤.</p>
<pre><code class="language-java">    long[] distances = new long[N+5];
    for (int i = 1; i &lt;= N; i++) {
        distances[i] = INF;
    }
    distances[st] = 0;

    PriorityQueue&lt;State&gt; pq = new PriorityQueue&lt;&gt;(Comparator.comparingLong(n -&gt; n.dist));
    pq.offer(new State(0, st));
</code></pre>
<h3>2. ì •ì  ì„ íƒ</h3>
<p>ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ìµœë‹¨ê±°ë¦¬ê°€ í™•ì •ë˜ì§€ ì•Šì€ ì •ì  ì¤‘ ê°€ì¥ ë¹„ìš©ì´ ì‘ì€ ì •ì ì„ í•­ìƒ ìš°ì„ ìœ¼ë¡œ ì„ íƒí•´ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„í•´ ìš°ì„ ìˆœìœ„ íë¥¼ ì‚¬ìš©í•œë‹¤. ìš°ì„ ìˆœìœ„ íì—ì„œ ì´ë™ ë¹„ìš©ì´ ê°€ì¥ ë‚®ì€ ìƒíƒœ(State)ë¥¼ ì„ íƒí•œë‹¤. </p>
<p>ë§Œì•½ ê·¸ ìƒíƒœë¡œì˜ ì´ë™ ë¹„ìš©ì´, ì§€ê¸ˆê¹Œì§€ ì°¾ì€ ì •ì (ìƒíƒœê°€ ìœ„ì¹˜í•´ ìˆëŠ”)ë¡œì˜ ìµœì†Œ ì´ë™ ë¹„ìš©ë³´ë‹¤ í¬ë‹¤ë©´, ê·¸ ìƒíƒœê°€ ê°€ì§„ ì •ì ì˜ ìµœë‹¨ê±°ë¦¬ëŠ” ì´ë¯¸ í™•ì •ë˜ì–´ ë” ì´ìƒ íƒìƒ‰í•  í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ ì¶”ê°€ ì‘ì—…ì„ í•˜ì§€ ì•Šê³  <code>continue</code>ë¥¼ í†µí•´ ê±´ë„ˆë›´ë‹¤. í•œí¸ ì´ ë•Œ ìš°ì„ ìˆœìœ„ íì—ì„œ êº¼ë‚´ í™•ì •í•œ ìƒíƒœì˜ ì •ì  ë²ˆí˜¸ê°€ ë„ì°©ì  ë²ˆí˜¸ì™€ ê°™ë‹¤ë©´, ì‹œì‘ì ìœ¼ë¡œë¶€í„° ë„ì°©ì ê¹Œì§€ ìµœë‹¨ë¹„ìš©(ê±°ë¦¬)ê°€ ê²°ì •ëœ ê²ƒì´ë¯€ë¡œ <code>break</code>ë¥¼ í†µí•´ ë°˜ë³µë¬¸ì„ ë¹ ì ¸ë‚˜ì˜¨ë‹¤.</p>
<pre><code class="language-java">    while (!pq.isEmpty()) {
        State state = pq.poll();
        if (distances[state.node] &lt; state.dist) continue;
        if (state.node == ed) break;
</code></pre>
<h3>3. ì™„í™”</h3>
<p>ì„ íƒí•œ ì •ì ê³¼ ì¸ì ‘í•œ ì •ì ë“¤ì„ í™•ì¸í•œë‹¤. ë§Œì•½ ì¸ì ‘í•œ ì •ì  ì¤‘ì— ì„ íƒí•œ ì •ì ì„ ê±°ì³ ì¸ì ‘í•œ ì •ì ìœ¼ë¡œ ê°€ëŠ” ë¹„ìš©ì´ ê¸°ì¡´ ì´ë™ ë¹„ìš©ë³´ë‹¤ ì €ë ´í•˜ë‹¤ë©´, ì´ë™ ë¹„ìš© ìµœì†Œê°’ì„ ì—…ë°ì´íŠ¸í•˜ê³  ì¸ì ‘ ë…¸ë“œì— ëŒ€í•œ ì´ë™ ìƒíƒœë¥¼ ìš°ì„ ìˆœìœ„ íì— ì¶”ê°€í•œë‹¤. ìˆ˜ì‹ìœ¼ë¡œ ë‚˜íƒ€ë‚´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<p>$$ 
d[v] \leftarrow d[u] + w(u,v) \ \text{if} \ d[v] &gt; d[u] + w(u, v)
$$</p>
<pre><code class="language-java">    for (Edge adj : graph[state.node]) {
                long newDist = state.dist + adj.cost;
                
                if (newDist &lt; distances[adj.node]) {
                    distances[adj.node] = newDist;
                    pq.offer(new State(newDist, adj.node));
                }
            }
        }
</code></pre>
<p>ë°˜ë³µë¬¸ì„ ë¹ ì ¸ë‚˜ì˜¤ë©´ ë„ì°©ì ì— ëŒ€í•œ ìµœì†Œ ì´ë™ë¹„ìš©ì„ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.</p>
<pre><code class="language-java">    bw.write(distances[ed] + &quot;\n&quot;);
    bw.flush();
}
</code></pre>
<h2>ì „ì²´ ì½”ë“œ</h2>
<pre><code class="language-java">import java.util.*;
import java.io.*;

class State {
    public long dist;
    public int node;

    public State(long dist, int node) {
        this.node = node;
        this.dist = dist;
    }
}

class Edge {
    public int cost;
    public int node;

    public Edge(int node, int cost) {
        this.node = node;
        this.cost = cost;
    }
}

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    static final long INF = 100000L * 100000L + 1;
    public static void main(String[] args) throws IOException {
        int N = Integer.parseInt(br.readLine());
        int M = Integer.parseInt(br.readLine());

        @SuppressWarnings(&quot;unchecked&quot;)
        List&lt;Edge&gt;[] graph = new ArrayList[N+5];
        for (int i = 0; i &lt; N+5; i++)
            graph[i] = new ArrayList&lt;&gt;();

        StringTokenizer s;
        for (int i = 0; i &lt; M; i++) {
            s = new StringTokenizer(br.readLine());

            int a, b, e;
            a = Integer.parseInt(s.nextToken());
            b = Integer.parseInt(s.nextToken());
            e = Integer.parseInt(s.nextToken());

            graph[a].add(new Edge(b, e));
        }

        s = new StringTokenizer(br.readLine());
        int st, ed;
        st = Integer.parseInt(s.nextToken());
        ed = Integer.parseInt(s.nextToken());

        long[] distances = new long[N+5];
        for (int i = 1; i &lt;= N; i++) {
            distances[i] = INF;
        }
        distances[st] = 0;

        PriorityQueue&lt;State&gt; pq = new PriorityQueue&lt;&gt;(Comparator.comparingLong(n -&gt; n.dist));
        pq.offer(new State(0, st));

        while (!pq.isEmpty()) {
            State state = pq.poll();
            if (distances[state.node] &lt; state.dist) continue;
            if (state.node == ed) break;

            for (Edge adj : graph[state.node]) {
                long newDist = state.dist + adj.cost;
                
                if (newDist &lt; distances[adj.node]) {
                    distances[adj.node] = newDist;
                    pq.offer(new State(newDist, adj.node));
                }
            }
        }

        bw.write(distances[ed] + &quot;\n&quot;);
        bw.flush();
    }
}
</code></pre>
<h2>ì‹œê°„ë³µì¡ë„</h2>
<p>ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ë³µì¡ë„ëŠ” $O(E \log V)$ ì´ë¯€ë¡œ ì´ ì½”ë“œì˜ ê²½ìš°  $O(M \log N)$ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤.</p>

        <script>
          location.href = "/post-view?href=posts%2FPS%2F2026-01-05-%EB%B0%B1%EC%A4%80-1916-%EC%B5%9C%EC%86%8C%EB%B9%84%EC%9A%A9-%EA%B5%AC%ED%95%98%EA%B8%B0.md"
        </script>
      </body>
  