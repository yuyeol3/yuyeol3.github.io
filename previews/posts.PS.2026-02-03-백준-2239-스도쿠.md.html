
      <html lang="ko">
      <head>
        <title>2239 - ìŠ¤ë„ì¿ </title>
        <link rel="canonical" href="http://yuyeol3.github.io/"/>
        <meta charset="utf-8"/>
        <meta name="description" content="ì´ ë¬¸ì œëŠ” ì¼ë¶€ ì¹¸ì´ ì±„ì›Œì§€ì§€ ì•Šì€ ìŠ¤ë„ì¿ ê°€ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ, ìŠ¤ë„ì¿  ê·œì¹™ì— ë”°ë¼ ë§ëŠ” ìˆ«ìë¥¼ ëª¨ë‘ ì±„ì›Œ ì¶œë ¥í•˜ëŠ” ë¬¸ì œì´ë‹¤. ë‹¨, ì´ ë•Œ ë‹µì´ ì—¬ëŸ¬ ê°œë¼ë©´ ì‚¬ì „ìˆœìœ¼ë¡œ ê°€ì¥ ìš°ì„ í•˜ëŠ” ë‹µì„ ì¶œë ¥í•´ì•¼ í•œë‹¤.">
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      </head>
      <body style="display : none;">
        
        <h1>2239 - ìŠ¤ë„ì¿ </h1>
<p>ì´ ë¬¸ì œëŠ” ì¼ë¶€ ì¹¸ì´ ì±„ì›Œì§€ì§€ ì•Šì€ ìŠ¤ë„ì¿ ê°€ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ, ìŠ¤ë„ì¿  ê·œì¹™ì— ë”°ë¼ ë§ëŠ” ìˆ«ìë¥¼ ëª¨ë‘ ì±„ì›Œ ì¶œë ¥í•˜ëŠ” ë¬¸ì œì´ë‹¤. ë‹¨, ì´ ë•Œ ë‹µì´ ì—¬ëŸ¬ ê°œë¼ë©´ ì‚¬ì „ìˆœìœ¼ë¡œ ê°€ì¥ ìš°ì„ í•˜ëŠ” ë‹µì„ ì¶œë ¥í•´ì•¼ í•œë‹¤. </p>
<p>ìŠ¤ë„ì¿  ë¬¸ì œëŠ” ì˜ ì•Œë ¤ì§„ NP-complete ë¬¸ì œì´ë‹¤. ì¦‰ ì¼ë°˜í™”ëœ ìŠ¤ë„ì¿  ë¬¸ì œë¥¼ ë‹¤í•­ ì‹œê°„ì˜ ì‹œê°„ë³µì¡ë„ë¡œ í’€ ìˆ˜ ìˆëŠ” í•´ë‹µì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë¬¸ì œëŠ” ì…ë ¥ì´ ì‘ê³ , ìŠ¤ë„ì¿  ì¹¸ì„ ì±„ìš¸ìˆ˜ë¡ ê°€ëŠ¥í•œ ë¶„ê¸°ìˆ˜ê°€ ê¸‰ê²©íˆ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì— ë°±íŠ¸ë˜í‚¹ì„ ì´ìš©í•˜ë©´ ë¬¸ì œë¥¼ í’€ ìˆ˜ ìˆì„ ê²ƒì´ë¼ ìƒê°í•  ìˆ˜ ìˆë‹¤.</p>
<p><a href="https://boj.kr/2239">ğŸ”— ë¬¸ì œ ë§í¬</a></p>
<h2>ì½”ë“œ</h2>
<p>í•„ìš”í•œ ë³€ìˆ˜ë“¤ì„ ë¨¼ì € ì„ ì–¸í•˜ì˜€ë‹¤. <code>sudoku</code>ëŠ” ì…ë ¥ë°›ì€ ìŠ¤ë„ì¿ ë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´ì´ë‹¤. <code>rowWise</code>, <code>colWise</code>, <code>boardWise</code>ëŠ” ì–´ë–¤ í–‰, ì—´ ë˜ëŠ” 3x3 ë¸”ëŸ­ ë‚´ì—ì„œ ì–´ë–¤ ìˆ«ìê°€ ì“°ì˜€ê±°ë‚˜ ì“°ì´ì§€ ì•Šì•˜ëŠ”ì§€ ì¶”ì²™í•˜ê¸° ìœ„í•œ ë°°ì—´ì´ë‹¤. <code>emptyCells</code>ëŠ” ìŠ¤ë„ì¿  ì¹¸ ì¤‘ ë¹ˆ ì¹¸ë§Œì„ ë‹´ì•„ë‘ëŠ” ë³€ìˆ˜ì´ë‹¤. <code>emptyCellSize</code>ëŠ” ë¹ˆ ì¹¸ì˜ ê°œìˆ˜ê°€ ëª‡ ê°œì¸ì§€ ì¶”ì í•˜ëŠ” ë³€ìˆ˜ì´ë‹¤.</p>
<pre><code class="language-java">class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static int[][] sudoku = new int[9][9];
    static boolean[][] rowWise = new boolean[9][10];
    static boolean[][] colWise = new boolean[9][10];
    static boolean[][] boardWise = new boolean[9][10];
    static int[][] emptyCells = new int[81][2];
    static int emptyCellSize = 0;
    static StringBuilder sb = new StringBuilder();
</code></pre>
<p>ë©”ì¸ í•¨ìˆ˜ì—ì„œ ì…ì¶œë ¥ì„ ì²˜ë¦¬í•œë‹¤. ê° ì¹¸ë³„ë¡œ <code>sudoku</code> ë°°ì—´ì— ê°’ì„ ì €ì¥í•˜ê³ , ì´ ì¹¸ì´ ìœ„ì¹˜í•œ í–‰, ì—´, 3x3 ë¸”ëŸ­ì—ì„œ ì´ ìˆ«ìê°€ ì‚¬ìš©ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ê¸°ë¡í•´ ë‘”ë‹¤. ë§Œì•½ ì…ë ¥ë°›ì€ ê°’ì´ 0ì´ë¼ë©´ ì´ ì¹¸ì€ ë¹ˆ ì¹¸ì´ë¼ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ, <code>emptyCells</code>ì— ìœ„ì¹˜ë¥¼ ë„£ê³  <code>emptyCellSize</code>ë¥¼ ì¦ê°€ì‹œì¼œ ì¤€ë‹¤.</p>
<pre><code class="language-java">public static void main(String[] args) throws IOException {
    for (int i = 0; i &lt; 9; i++) {
        String row = br.readLine();
        for (int j = 0; j &lt; 9; j++) {
            sudoku[i][j] = row.charAt(j) - &#39;0&#39;;
            rowWise[i][sudoku[i][j]] = true;
            colWise[j][sudoku[i][j]] = true;
            boardWise[3*(i/3)+(j/3)][sudoku[i][j]] = true;

            if (sudoku[i][j] == 0) {
                emptyCells[emptyCellSize][0] = i;
                emptyCells[emptyCellSize][1] = j;
                emptyCellSize++;
            }
        }
    }
</code></pre>
<p>ë°±íŠ¸ë˜í‚¹ì„ ìœ„í•´ ì²« ë²ˆì§¸ ë¹ˆ ì¹¸ë¶€í„° ì¬ê·€í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ì¬ê·€í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ì—ˆë‹¤ë©´ ë‹µì´ êµ¬í•´ì§„ ê²ƒì´ë¯€ë¡œ ë‹µì„ ì €ì¥í•´ë‘” <code>sb</code>ë¥¼ ì¶œë ¥í•œë‹¤.</p>
<pre><code class="language-java">    recur(0);
    System.out.print(sb);
}
</code></pre>
<p>ë°±íŠ¸ë˜í‚¹ì„ ìœ„í•œ ì¬ê·€í•¨ìˆ˜ëŠ” ì•„ë˜ì™€ ê°™ì´ ìƒê²¼ë‹¤. ì¸ìë¡œ ë°›ëŠ” <code>idx</code>ëŠ” ëª‡ ë²ˆì§¸ ë¹ˆ ì¹¸ì„ ì²˜ë¦¬í•  ê²ƒì¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’ì´ë‹¤. </p>
<p>ì¢…ë£Œì¡°ê±´ë¶€í„° ë¨¼ì € ë³´ì. ë§Œì•½ <code>idx == emptyCellsSize</code>ë¼ë©´ ëª¨ë“  ë¹ˆ ì¹¸ì„ ì±„ìš´ ê²ƒì´ë¯€ë¡œ <code>sb</code>ì— ê²°ê³¼ê°’ì„ ì¶œë ¥í•œ ë’¤ <code>true</code>ë¥¼ ë¦¬í„´í•œë‹¤.</p>
<p>ì¢…ë£Œì¡°ê±´ì´ ì•„ë‹ˆë¼ë©´, <code>idx</code>ê°€ ê°€ë¦¬í‚¤ëŠ” ë¹ˆ ì¹¸ì˜ í–‰ ë²ˆí˜¸ì™€ ì—´ ë²ˆí˜¸ë¥¼ <code>r</code>, <code>c</code>ì— ëŒ€ì…í•´ë‘”ë‹¤. ê·¸ëŸ° ë‹¤ìŒ 1ë¶€í„° 9ê¹Œì§€ ë°˜ë³µë¬¸ì„ ëŒë¦¬ë©´ì„œ <code>isValid</code> í•¨ìˆ˜ë¥¼ ì´ìš©í•´ í•´ë‹¹ ë²ˆí˜¸ë¥¼ ì´ ìœ„ì¹˜ì— ë„£ì„ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ë„£ì„ ìˆ˜ ì—†ë‹¤ë©´ <code>continue</code>ë¥¼ í†µí•´ ì¦‰ì‹œ ë‹¤ìŒ ë²ˆí˜¸ë¡œ ê±´ë„ˆë›´ë‹¤. í•˜ì§€ë§Œ ë§Œì•½ ë„£ì„ ìˆ˜ ìˆë‹¤ë©´ <code>rowWise</code>, <code>colWise</code>, <code>boardWise</code>ë¥¼ í†µí•´ í•´ë‹¹ í–‰, ì—´, 3x3 ë¸”ëŸ­ì— ì„ íƒëœ ìˆ«ìê°€ ì´ë¯¸ ìˆìŒì„ í‘œì‹œí•´ì£¼ê³ , <code>sudoku[r][c] = i</code>ë¥¼ í†µí•´ ìŠ¤ë„ì¿  íŒì— ì„ íƒí•œ ìˆ«ìë¥¼ ë„£ì–´ì¤€ë‹¤. ì´ì œ <code>recur(idx+1)</code>ì„ í˜¸ì¶œí•´ ë‹¤ìŒ ë¹ˆ ì¹¸ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤. ë§Œì•½ <code>recur(idx+1)</code>ì´ <code>true</code>ë¥¼ ì¶œë ¥í–ˆë‹¤ë©´ ë³´ë“œê°€ ì™„ì„±ëœ ê²ƒì´ë¯€ë¡œ ì´ í•¨ìˆ˜ë„ <code>true</code>ë¥¼ ì¶œë ¥í•´ ë‹¨ê³„ë¥¼ ë” ì§„í–‰í•˜ì§€ ì•Šê³  í•¨ìˆ˜ë¥¼ ëë‚¸ë‹¤.
ë°˜ëŒ€ë¡œ <code>false</code>ë¥¼ ë°˜í™˜í–ˆë‹¤ë©´ ì„ íƒí•œ ì´ ìˆ«ìë¥¼ ì´ìš©í•´ì„œ ë³´ë“œë¥¼ ì™„ì„±í•  ìˆ˜ ì—†ë‹¤ëŠ” ëœ»ì´ë¯€ë¡œ, <code>sudoku</code>ì—ì„œ ë„£ì–´ë†¨ë˜ ìˆ«ìë¥¼ ë¹¼ê³ , <code>rowWise</code>, <code>colWise</code>, <code>boardWise</code>ì—ì„œë„ ìˆ«ì ì„ íƒì„ í•´ì œí•œë‹¤. ë§Œì•½ ë°˜ë³µë¬¸ì„ ëê¹Œì§€ ëŒì•„ë„ ê°€ëŠ¥í•œ ìˆ«ìê°€ ì—†ì—ˆë‹¤ë©´, í˜„ì¬ ìƒíƒœë¡œëŠ” ìŠ¤ë„ì¿ ë¥¼ ì™„ì„±í•  ìˆ˜ ì—†ë‹¤ëŠ” ëœ»ì´ë¯€ë¡œ <code>false</code>ë¥¼ ë°˜í™˜í•œë‹¤.</p>
<pre><code class="language-java">static boolean recur(int idx) {
    if (idx == emptyCellSize) {
        for (int i = 0; i &lt; 9; i++) {
            for (int j = 0; j &lt; 9; j++) {
                sb.append(sudoku[i][j]);
            }
            sb.append(&quot;\n&quot;);
        }
        return true;
    }

    int r = emptyCells[idx][0];
    int c = emptyCells[idx][1];
    for (int i = 1; i &lt; 10; i++) {
        if (!isValid(r, c, i)) continue;
        rowWise[r][i] = true;
        colWise[c][i] = true;
        boardWise[3*(r/3)+(c/3)][i] = true;
        sudoku[r][c] = i;
        if (recur(idx+1)) return true;
        sudoku[r][c] = 0;
        rowWise[r][i] = false;
        colWise[c][i] = false;
        boardWise[3*(r/3)+(c/3)][i] = false;
    }

    return false;
}
</code></pre>
<p><code>isValid</code>ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. í•¨ìˆ˜ ì¸ìë¡œ <code>row</code>, <code>col</code>, <code>num</code>ì„ ì…ë ¥ë°›ì€ ë’¤, <code>rowWise</code>, <code>colWise</code>, <code>boardWise</code>ì— ê°ê° ëŒ€ì‘ë˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ì…ë ¥í•´ <code>num</code>ì„ ë„£ì„ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•´ ë¦¬í„´í•œë‹¤.</p>
<pre><code class="language-java">static boolean isValid(int row, int col, int num) {
    return !rowWise[row][num] &amp;&amp; !colWise[col][num] &amp;&amp; !boardWise[3*(row/3)+(col/3)][num];
}
</code></pre>
<p>ì°¸ê³ ë¡œ ì‚¬ì „ ìˆœìœ¼ë¡œ ê°€ì¥ ìš°ì„ í•˜ëŠ” ì •ë‹µì„ ì¶œë ¥í•˜ë¼ëŠ” ì¡°ê±´ì„ ë”°ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šì•˜ëŠ”ë°ë„ ì •ë‹µì´ ë˜ëŠ” ì´ìœ ê°€ ê¶ê¸ˆí•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì´ëŠ” ë¹ˆ ì¹¸ì„ ì…ë ¥ ìˆœì„œ(í–‰ ìš°ì„ )ë¡œ ê³ ì •í•˜ê³ , ê° ì¹¸ì—ì„œ ìˆ«ìë¥¼ 1ë¶€í„° ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì‹œë„í•œ ë’¤ ì²« í•´ë‹µì—ì„œ ì¢…ë£Œí•˜ë¯€ë¡œ, ê°€ì¥ ë¨¼ì € ë‹¬ë¼ì§€ëŠ” ìœ„ì¹˜ì˜ ê°’ì´ ìµœì†Œê°€ ë˜ì–´ ì‚¬ì „ìˆœìœ¼ë¡œ ê°€ì¥ ì•ì„  í•´ë¥¼ ì¶œë ¥í•˜ëŠ” ê²ƒì´ ë³´ì¥ë˜ê¸° ë•Œë¬¸ì´ë‹¤. </p>
<h2>ì „ì²´ ì½”ë“œ</h2>
<pre><code class="language-java">import java.io.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static int[][] sudoku = new int[9][9];
    static boolean[][] rowWise = new boolean[9][10];
    static boolean[][] colWise = new boolean[9][10];
    static boolean[][] boardWise = new boolean[9][10];
    static int[][] emptyCells = new int[81][2];
    static int emptyCellSize = 0;
    static StringBuilder sb = new StringBuilder();


    static boolean recur(int idx) {
        if (idx == emptyCellSize) {
            for (int i = 0; i &lt; 9; i++) {
                for (int j = 0; j &lt; 9; j++) {
                    sb.append(sudoku[i][j]);
                }
                sb.append(&quot;\n&quot;);
            }
            return true;
        }

        int r = emptyCells[idx][0];
        int c = emptyCells[idx][1];
        for (int i = 1; i &lt; 10; i++) {
            if (!isValid(r, c, i)) continue;
            rowWise[r][i] = true;
            colWise[c][i] = true;
            boardWise[3*(r/3)+(c/3)][i] = true;
            sudoku[r][c] = i;
            if (recur(idx+1)) return true;
            sudoku[r][c] = 0;
            rowWise[r][i] = false;
            colWise[c][i] = false;
            boardWise[3*(r/3)+(c/3)][i] = false;
        }

        return false;
    }
    
    public static void main(String[] args) throws IOException {
        for (int i = 0; i &lt; 9; i++) {
            String row = br.readLine();
            for (int j = 0; j &lt; 9; j++) {
                sudoku[i][j] = row.charAt(j) - &#39;0&#39;;
                rowWise[i][sudoku[i][j]] = true;
                colWise[j][sudoku[i][j]] = true;
                boardWise[3*(i/3)+(j/3)][sudoku[i][j]] = true;

                if (sudoku[i][j] == 0) {
                    emptyCells[emptyCellSize][0] = i;
                    emptyCells[emptyCellSize][1] = j;
                    emptyCellSize++;
                }
            }
        }

        recur(0);
        System.out.print(sb);
    }

    static boolean isValid(int row, int col, int num) {
        return !rowWise[row][num] &amp;&amp; !colWise[col][num] &amp;&amp; !boardWise[3*(row/3)+(col/3)][num];
    }
}
</code></pre>
<h2>ì‹œê°„ë³µì¡ë„</h2>
<p>ì‹œê°„ë³µì¡ë„ëŠ” $O(9^N)$, $N = \text{(ë¹ˆ ì¹¸ì˜ ê°œìˆ˜)}$ì´ë‹¤. $N$ì€ ìµœëŒ€ 81ì´ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‹œê°„ë³µì¡ë„ ìƒìœ¼ë¡œëŠ” ë¬¸ì œë¥¼ í†µê³¼í•˜ê¸° ì–´ë ¤ì›Œ ë³´ì¸ë‹¤. </p>
<p>ê·¸ëŸ¬ë‚˜ ìŠ¤ë„ì¿ ì˜ íŠ¹ì„±ìƒ ìˆ«ìë¥¼ ì±„ìš¸ ë•Œë§ˆë‹¤ ì„ íƒí•  ìˆ˜ ìˆëŠ” ìˆ«ìê°€ ê¸‰ê²©íˆ ì¤„ì–´ë“¤ê²Œ ëœë‹¤. ì¦‰ ìƒíƒœ ê³µê°„ íŠ¸ë¦¬ì˜ ê¹Šì´ê°€ ê¹Šì–´ì§ˆìˆ˜ë¡ ë‹¤ìŒ ë¶„ê¸° ìˆ˜ëŠ” ë¹ ë¥´ê²Œ ì¤„ì–´ë“ ë‹¤. ì´ë¥¼ ì—„ë°€í•˜ê²Œ í‘œí˜„í•´ë³´ë©´ $O(\prod_{t=1}^{N} b_t)$ì´ë©°, ì—¬ê¸°ì„œ $b_t$ëŠ” ë‹¨ê³„ë³„ë¡œ ê°€ëŠ¥í•œ ë‹¤ìŒ ìƒíƒœ ë…¸ë“œì˜ ê°€ì§“ìˆ˜ì´ë‹¤. ë”°ë¼ì„œ $9 \times 9$ì˜ í•œì •ëœ ìŠ¤ë„ì¿  ì¹¸ì—ì„œëŠ” ì‹œê°„ ì´ˆê³¼ë¥¼ ë‚´ì§€ ì•Šê³  ë¬¸ì œë¥¼ í’€ ìˆ˜ ìˆë‹¤.</p>

        <script>
          location.href = "/post-view?href=posts%2FPS%2F2026-02-03-%EB%B0%B1%EC%A4%80-2239-%EC%8A%A4%EB%8F%84%EC%BF%A0.md"
        </script>
      </body>
  