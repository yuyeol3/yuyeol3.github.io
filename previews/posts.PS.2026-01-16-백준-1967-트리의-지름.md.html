
      <html lang="ko">
      <head>
        <title>1967 - íŠ¸ë¦¬ì˜ ì§€ë¦„</title>
        <link rel="canonical" href="http://yuyeol3.github.io/"/>
        <meta charset="utf-8"/>
        <meta name="description" content="ì´ ë¬¸ì œëŠ” íŠ¸ë¦¬ì˜ ì •ì  ìˆ˜ì™€ ê°„ì„  ì •ë³´ê°€ ì£¼ì–´ì§€ë©´, ê·¸ íŠ¸ë¦¬ì˜ ì§€ë¦„ì„ ì¶œë ¥í•˜ëŠ” ë¬¸ì œì´ë‹¤.">
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      </head>
      <body style="display : none;">
        
        <h1>1967 - íŠ¸ë¦¬ì˜ ì§€ë¦„</h1>
<p>ì´ ë¬¸ì œëŠ” íŠ¸ë¦¬ì˜ ì •ì  ìˆ˜ì™€ ê°„ì„  ì •ë³´ê°€ ì£¼ì–´ì§€ë©´, ê·¸ íŠ¸ë¦¬ì˜ ì§€ë¦„ì„ ì¶œë ¥í•˜ëŠ” ë¬¸ì œì´ë‹¤. </p>
<p>ì´ ë•Œ íŠ¸ë¦¬ì˜ ì§€ë¦„ì´ë€ íŠ¸ë¦¬ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ê²½ë¡œë“¤ ì¤‘ì—ì„œ ê°€ì¥ ê¸´ ê²ƒì˜ ê¸¸ì´ì´ë‹¤.</p>
<blockquote>
<img width="310" height="123" alt="image" src="https://github.com/user-attachments/assets/7c610106-61db-4141-8492-2edad5d68cd1" />

<p>ì¶œì²˜ : ë°±ì¤€ - íŠ¸ë¦¬ì˜ ì§€ë¦„</p>
</blockquote>
<p>ê°„ë‹¨í•˜ê²Œ ìƒê°í•´ë³´ë©´ ëª¨ë“  ë…¸ë“œì— ëŒ€í•´ DFSë¥¼ í•˜ì—¬ ê° ì •ì ë³„ë¡œ ê°€ì¥ ê¸´ ê±°ë¦¬ë¥¼ êµ¬í•œ ë‹¤ìŒ ê·¸ê²ƒì˜ ìµœëŒ€ê°’ì„ êµ¬í•˜ë©´ íŠ¸ë¦¬ì˜ ì§€ë¦„ì´ ë  ê²ƒì´ë‹¤. ì´ ë°©ì‹ì˜ ì‹œê°„ë³µì¡ë„ëŠ” $O(N^2)$ì¼ ê²ƒì¸ë°, ë…¸ë“œì˜ ê°œìˆ˜ê°€ ìµœëŒ€ 10,000ê°œì—¬ì„œ ìµœì•…ì˜ ê²½ìš° ë”± 1ì–µì´ ë˜ë¯€ë¡œ ì¡°ê¸ˆ ì•„ìŠ¬ì•„ìŠ¬í•˜ë‹¤. </p>
<p>ê·¸ë ‡ë‹¤ë©´ ë‹¤ë¥¸ ë°©ë²•ì€ ì—†ì„ê¹Œ? íŠ¸ë¦¬ì˜ ì–´ë–¤ ì •ì ì—ì„œ ì¶œë°œí•˜ëŠ” ê²½ë¡œ ì¤‘ ê°€ì¥ ê¸´ ê²½ë¡œì˜ ë§ˆìë§‰ ì •ì ì€ ì§€ë¦„ì„ ì´ë£¨ëŠ” ì‹œì‘ê³¼ ë ì •ì  ì¤‘ì— í•˜ë‚˜ì´ë‹¤. ë‹¤ì‹œ ë§í•´, ì•„ë¬´ ì •ì ì„ ê³¨ë¼ DFSë¥¼ í•´ì„œ ê°€ì¥ ê¸´ ê²½ë¡œì˜ ë§ˆì§€ë§‰ ì •ì ì„ ë½‘ìœ¼ë©´ ê·¸ ì •ì ì€ ìœ„ ê·¸ë¦¼ì—ì„œ íŒŒë€ìƒ‰ìœ¼ë¡œ ìƒ‰ì¹ ëœ ì •ì  ë‘˜ ì¤‘ í•˜ë‚˜ì´ë‹¤.</p>
<p>ì¡°ê¸ˆ ë” ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ë³´ì.</p>
<ul>
<li>ì„ì˜ì˜ ì •ì  sì—ì„œ ê°€ì¥ ë¨¼ ì •ì ì„ $u$ë¼ê³  í•˜ì.</li>
<li>ê·¸ëŸ¬ë©´ $u$ëŠ” íŠ¸ë¦¬ ì§€ë¦„ ê²½ë¡œì˜ í•œ ëì ì´ë‹¤.</li>
<li>ë”°ë¼ì„œ $u$ì—ì„œ ë‹¤ì‹œ í•œ ë²ˆ â€œê°€ì¥ ë¨¼ ì •ì ê¹Œì§€ì˜ ê±°ë¦¬â€ë¥¼ êµ¬í•˜ë©´ ê·¸ ê±°ë¦¬ê°€ ì§€ë¦„ì´ë‹¤.</li>
</ul>
<p>ìœ„ ì„±ì§ˆì„ ì´ìš©í•˜ë©´ ë¬¸ì œë¥¼ ì¡°ê¸ˆ ë” ê°„ë‹¨í•˜ê²Œ í’€ ìˆ˜ ìˆë‹¤. ë¨¼ì € ë£¨íŠ¸ ë…¸ë“œë¥¼ ê¸°ì ìœ¼ë¡œ DFSë¥¼ ëŒë¦°ë‹¤. ê·¸ëŸ¬ë©´ ì—¬ëŸ¬ ê²½ë¡œ ì¤‘ ê±°ë¦¬ê°€ ìµœëŒ€ì¸ ê²½ë¡œê°€ í•˜ë‚˜ ìˆì„ ê²ƒì´ë‹¤. ìœ„ ì„±ì§ˆì— ë”°ë¼ ê·¸ ê²½ë¡œì˜ ë§ˆì§€ë§‰ ë…¸ë“œëŠ” ì§€ë¦„ ê²½ë¡œì˜ ì‹œì‘ ì •ì ì´ë¼ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì°¾ì€ ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ë‹¤ì‹œ ê¸°ì ìœ¼ë¡œ í•˜ì—¬ ë‹¤ì‹œ DFSë¥¼ ëŒë¦¬ê³  ìµœì¥ ê²½ë¡œë¥¼ ë‹¤ì‹œ ì°¾ëŠ”ë‹¤. ì—¬ê¸°ì„œ ì°¾ì€ ìµœì¥ ê²½ë¡œê°€ ë°”ë¡œ íŠ¸ë¦¬ì˜ ì§€ë¦„ì´ë‹¤.</p>
<p><a href="https://www.acmicpc.net/problem/1967">ğŸ”— ë¬¸ì œ ë§í¬</a></p>
<h2>ì½”ë“œ</h2>
<p>ê°’ ë‘ ê°œë¥¼ ë‹´ì„ ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ Pairì„ ì„ ì–¸í•œë‹¤. yëŠ” ê±°ë¦¬ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë° ì£¼ë¡œ ì‚¬ìš©ë  ê²ƒì´ë¼ ì˜¤ë²„í”Œë¡œìš° ë°©ì§€ë¥¼ ìœ„í•´ longì„ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>
<pre><code class="language-java">static class Pair{
    int x;
    long y;

    public static Pair of(int x, long y) {
        var p = new Pair();
        p.x = x;
        p.y = y;
        return p;
    }
}
</code></pre>
<p>íŠ¸ë¦¬ì˜ ì •ì  ê°œìˆ˜ nì„ ë¨¼ì € ì…ë ¥ë°›ëŠ”ë‹¤. ê·¸ëŸ° ë‹¤ìŒ treeì˜ êµ¬ì¡°ë¥¼ ì €ì¥í•  ë°°ì—´ <code>tree</code>ë¥¼ ì„ ì–¸í•œë‹¤. ê° ì›ì†Œë³„ë¡œ <code>ArrayList</code>ë¥¼ ìƒì„±í•´ ì´ˆê¸°í™”í•œë‹¤.</p>
<pre><code class="language-java">public static void main(String[] args) throws IOException{
    int n = Integer.parseInt(br.readLine());

    @SuppressWarnings(&quot;unchecked&quot;)
    List&lt;Pair&gt;[] tree = new List[n+1];

    for (int i = 0; i &lt;= n; i++)
        tree[i] = new ArrayList&lt;&gt;();
</code></pre>
<p>ì´ì œ ê°„ì„  ì •ë³´ë¥¼ ì…ë ¥ë°›ì•„ <code>tree</code>ì— ì €ì¥í•œë‹¤. ë¶€ëª¨ ë…¸ë“œ, ìì‹ ë…¸ë“œ, ê°€ì¤‘ì¹˜ë¥¼ ì…ë ¥ë°›ì•„ Pairë¡œ ê°„ì„  ì •ë³´ë¥¼ ë§Œë“¤ì–´ì„œ Listì— ë„£ì–´ì¤€ë‹¤. ë¬´í–¥ ê·¸ë˜í”„ì´ë¯€ë¡œ parentì™€ child ëª¨ë‘ì— ëŒ€ì¹­ì ìœ¼ë¡œ ê°„ì„ ì„ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>
<pre><code class="language-java">    StringTokenizer st;
    for (int i = 0; i &lt; n-1; i++) {
        st = new StringTokenizer(br.readLine());

        int parent, child, weight;
        parent = Integer.parseInt(st.nextToken());
        child = Integer.parseInt(st.nextToken());
        weight = Integer.parseInt(st.nextToken());

        tree[parent].add(Pair.of(child, weight));
        tree[child].add(Pair.of(parent, weight));

    }
</code></pre>
<p>DFSë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ <code>visited</code> ë°°ì—´ê³¼ ìŠ¤íƒìœ¼ë¡œ ì“¸ <code>dq</code> ë¥¼ ì„ ì–¸í•œë‹¤. ë£¨íŠ¸ ë…¸ë“œì¸ 1ë²ˆ ë…¸ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¨¼ì € íƒìƒ‰í•  ê²ƒì´ë¯€ë¡œ 1ë²ˆ ë…¸ë“œë¥¼ ë¨¼ì € ë„£ì–´ì£¼ê³  <code>visited[1] = true</code>ë¡œ ë°”ê¿”ì¤€ë‹¤. ì¶”ê°€ë¡œ ë³€ìˆ˜ <code>U</code>ë¥¼ ì„ ì–¸í•´ì¤€ë‹¤. ì´ ë³€ìˆ˜ëŠ” ìµœì¥ ê²½ë¡œì˜ ë§ˆì§€ë§‰ ì •ì ì„ ì €ì¥í•´ë‘ëŠ” ìš©ë„ì´ë‹¤.</p>
<p>ìœ„ ê³¼ì •ì„ ëª¨ë‘ ìˆ˜í–‰í•˜ë©´ ë‹¤ìŒìœ¼ë¡œ ë°˜ë³µë¬¸ì„ ëŒë©° DFSë¥¼ ìˆ˜í–‰í•œë‹¤. ë§Œì € ìŠ¤íƒì—ì„œ ìƒíƒœë¥¼ í•˜ë‚˜ êº¼ë‚¸ ë’¤ ê·¸ ìƒíƒœì˜ ê±°ë¦¬ë¥¼ ê²€ì‚¬í•œë‹¤. <code>U.y &gt; s.y</code>ë¼ë©´ ìµœì¥ ê±°ë¦¬ê°€ ê°±ì‹ ëœ ê²ƒì´ë¯€ë¡œ <code>U=s</code>ë¥¼ í†µí•´ ì—…ë°ì´íŠ¸í•´ ì¤€ë‹¤.
ë‹¤ìŒìœ¼ë¡œ íŠ¸ë¦¬ì—ì„œ ì¸ì ‘ ë…¸ë“œë¥¼ í™•ì¸í•œë‹¤. ì¸ì ‘ ë…¸ë“œê°€ ì´ë¯¸ ë°©ë¬¸í•œ ë…¸ë“œë¼ë©´ ìŠ¤íƒì— ì¶”ê°€í•˜ì§€ ì•Šê³  ê±´ë„ˆë›´ë‹¤. ë°©ë¬¸í•œ ë…¸ë“œê°€ ì•„ë‹ˆë¼ë©´ ë°©ë¬¸ì²˜ë¦¬ë¥¼ í•œ ë’¤ ìŠ¤íƒì— ë„£ì–´ì¤€ë‹¤. </p>
<pre><code>    boolean[] visited = new boolean[n+1];
    Deque&lt;Pair&gt; dq = new ArrayDeque&lt;&gt;();
    dq.addFirst(Pair.of(1, 0L));
    visited[1] = true;
    var U = Pair.of(0, 0L);        

    while (!dq.isEmpty()) {
        var s = dq.pollFirst();
        
        if (s.y &gt; U.y) U = s;

        for (var adj : tree[s.x]) {
            if (visited[adj.x]) continue;
            visited[adj.x] = true;
            dq.addFirst(Pair.of(adj.x, s.y + adj.y));
        }
    }
</code></pre>
<p><code>U</code>ë¥¼ ê¸°ì ìœ¼ë¡œ DFSë¥¼ í•œ ë²ˆ ë” ìˆ˜í–‰í•´ì•¼ í•˜ë¯€ë¡œ visited ë°°ì—´ì„ ë‹¤ì‹œ falseë¡œ ì´ˆê¸°í™”í•´ì¤€ë‹¤. ê·¸ëŸ° ë‹¤ìŒ <code>dq</code>ì— <code>U.x</code>ë¥¼ ì‹œì‘ ë…¸ë“œë¡œ í•˜ëŠ” ìƒíƒœë¥¼ ë§Œë“¤ì–´ ì‚½ì…í•˜ê³  ë°©ë¬¸ì²˜ë¦¬í•œë‹¤. ì¶”ê°€ë¡œ ì§€ë¦„ì„ ì €ì¥í•  <code>diameter</code> ë³€ìˆ˜ë¥¼ ë§Œë“ ë‹¤. ì´ì „ DFSì—ì„œëŠ” ì •ì  ë²ˆí˜¸ì™€ ì´ë™ ê±°ë¦¬ê°€ ëª¨ë‘ í•„ìš”í–ˆì§€ë§Œ ì´ë²ˆì—ëŠ” ê±°ë¦¬ë§Œ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— <code>Pair</code>ë¡œ ì„ ì–¸í•˜ì§€ ì•ŠëŠ”ë‹¤. </p>
<p>ì´ì œ ë‹¤ì‹œ í•œ ë²ˆ DFSë¥¼ ìˆ˜í–‰í•œë‹¤. ëŒ€ë¶€ë¶„ì˜ ê³¼ì •ì€ ì´ì „ ë°˜ë³µë¬¸ê³¼ ë‹¤ë¥´ì§€ ì•Šì§€ë§Œ diameterì„ <code>long</code> íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í–ˆê¸° ë•Œë¬¸ì— ìµœì¥ ê±°ë¦¬ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë¶€ë¶„ë§Œ ì°¨ì´ê°€ ìˆë‹¤.</p>
<pre><code class="language-java">    Arrays.fill(visited, false);
    dq.addFirst(Pair.of(U.x, 0L));
    visited[U.x] = true;
    long diameter = 0;
    while (!dq.isEmpty()) {
        var s = dq.pollFirst();
        
        if (s.y &gt; diameter) diameter = s.y;

        for (var adj : tree[s.x]) {
            if (visited[adj.x]) continue;
            visited[adj.x] = true;
            dq.addFirst(Pair.of(adj.x, s.y + adj.y));
        }
    }
</code></pre>
<p>ë°˜ë³µë¬¸ì´ ëë‚˜ë©´ íŠ¸ë¦¬ì˜ ì§€ë¦„ì´ êµ¬í•´ì§„ ê²ƒì´ë¯€ë¡œ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.</p>
<pre><code class="language-java">    System.out.println(diameter);
}
</code></pre>
<h2>ì „ì²´ ì½”ë“œ</h2>
<pre><code class="language-java">import java.util.*;
import java.io.*;


class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    static class Pair{
        int x;
        long y;

        public static Pair of(int x, long y) {
            var p = new Pair();
            p.x = x;
            p.y = y;
            return p;
        }
    }

    public static void main(String[] args) throws IOException{
        int n = Integer.parseInt(br.readLine());

        @SuppressWarnings(&quot;unchecked&quot;)
        List&lt;Pair&gt;[] tree = new List[n+1];

        for (int i = 0; i &lt;= n; i++)
            tree[i] = new ArrayList&lt;&gt;();

        StringTokenizer st;
        for (int i = 0; i &lt; n-1; i++) {
            st = new StringTokenizer(br.readLine());

            int parent, child, weight;
            parent = Integer.parseInt(st.nextToken());
            child = Integer.parseInt(st.nextToken());
            weight = Integer.parseInt(st.nextToken());

            tree[parent].add(Pair.of(child, weight));
            tree[child].add(Pair.of(parent, weight));

        }
        
        boolean[] visited = new boolean[n+1];
        Deque&lt;Pair&gt; dq = new ArrayDeque&lt;&gt;();
        dq.addFirst(Pair.of(1, 0L));
        visited[1] = true;

        var U = Pair.of(0, 0L);        
        while (!dq.isEmpty()) {
            var s = dq.pollFirst();
            
            if (s.y &gt; U.y) U = s;

            for (var adj : tree[s.x]) {
                if (visited[adj.x]) continue;
                visited[adj.x] = true;
                dq.addFirst(Pair.of(adj.x, s.y + adj.y));
            }
        }

        Arrays.fill(visited, false);
        dq.addFirst(Pair.of(U.x, 0L));
        visited[U.x] = true;
        long diameter = 0;
        while (!dq.isEmpty()) {
            var s = dq.pollFirst();
            
            if (s.y &gt; diameter) diameter = s.y;

            for (var adj : tree[s.x]) {
                if (visited[adj.x]) continue;
                visited[adj.x] = true;
                dq.addFirst(Pair.of(adj.x, s.y + adj.y));
            }
        }

        System.out.println(diameter);
    }
}
</code></pre>
<h2>ì‹œê°„ë³µì¡ë„</h2>
<p>DFSì˜ ì‹œê°„ë³µì¡ë„ëŠ” $O(V+E)$ ë¡œ ì•Œë ¤ì ¸ ìˆë‹¤.</p>
<p>ì´ ì½”ë“œëŠ” íŠ¸ë¦¬ì— ëŒ€í•´ DFSí•˜ëŠ” ê²ƒì´ë‹¤. íŠ¸ë¦¬ëŠ” ì •ì ì´ $N$ ê°œì´ë©´ ê°„ì„ ì€ ìµœëŒ€ $N-1$ê°œì´ë‹¤. ë˜í•œ DFSë¥¼ ë‘ ë²ˆ ìˆ˜í–‰í•œë‹¤. ë”°ë¼ì„œ $O(2 \cdot (2N - 1)) \approx O(N)$ ì´ë¯€ë¡œ ì´ ì‹œê°„ë³µì¡ë„ëŠ” $O(N)$ì´ë‹¤. </p>

        <script>
          location.href = "/post-view?href=posts%2FPS%2F2026-01-16-%EB%B0%B1%EC%A4%80-1967-%ED%8A%B8%EB%A6%AC%EC%9D%98-%EC%A7%80%EB%A6%84.md"
        </script>
      </body>
  