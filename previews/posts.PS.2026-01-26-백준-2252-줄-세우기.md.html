
      <html lang="ko">
      <head>
        <title>2252 - ì¤„ ì„¸ìš°ê¸°</title>
        <link rel="canonical" href="http://yuyeol3.github.io/"/>
        <meta charset="utf-8"/>
        <meta name="description" content="ì´ ë¬¸ì œëŠ” ì „í˜•ì ì¸ ìœ„ìƒ ì •ë ¬ ë¬¸ì œì´ë‹¤. í•™ìƒ ìˆ˜ì™€ ì¼ë¶€ í•™ìƒë“¤ì˜ í‚¤ ë¹„êµ ê²°ê³¼ê°€ ê°ê° ì£¼ì–´ì§€ë©´, ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•™ìƒë“¤ì˜ ì¤„ì„ ì„¸ìš¸ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ êµ¬í•´ì•¼ í•˜ëŠ” ë¬¸ì œì´ë‹¤.">
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      </head>
      <body style="display : none;">
        
        <h1>2252 - ì¤„ ì„¸ìš°ê¸°</h1>
<p>ì´ ë¬¸ì œëŠ” ì „í˜•ì ì¸ ìœ„ìƒ ì •ë ¬ ë¬¸ì œì´ë‹¤. í•™ìƒ ìˆ˜ì™€ ì¼ë¶€ í•™ìƒë“¤ì˜ í‚¤ ë¹„êµ ê²°ê³¼ê°€ ê°ê° ì£¼ì–´ì§€ë©´, ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•™ìƒë“¤ì˜ ì¤„ì„ ì„¸ìš¸ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ êµ¬í•´ì•¼ í•˜ëŠ” ë¬¸ì œì´ë‹¤.</p>
<blockquote>
<img width="100%" alt="image" src="https://github.com/user-attachments/assets/588f2b3a-1753-4ec8-a095-66618ca44767" />
ì¶œì²˜ : CODEPATH - Topological Sort</blockquote>
<p>ìœ„ìƒ ì •ë ¬ì˜ ì •ì˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤ê³  í•œë‹¤.</p>
<blockquote>
<p>ìˆœí™˜í•˜ì§€ ì•ŠëŠ” ìœ í–¥ ê·¸ë˜í”„ë¥¼ ë°©í–¥ì„±ì— ê±°ìŠ¤ë¥´ì§€ ì•Šë„ë¡ ìˆœì„œëŒ€ë¡œ ë°°ì—´í•˜ëŠ” ë°©ë²•</p>
</blockquote>
<p>ì¦‰ ì‚¬ì´í´ì´ ì—†ëŠ” ìœ í–¥ ê·¸ë˜í”„ì˜ ë°©í–¥ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ì›ì†Œë¥¼ ìˆœì„œëŒ€ë¡œ ì¼ë ¬ë¡œ ë‚˜ì—´í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì´ ë¬¸ì œì— ì ìš©í•´ë³´ë©´, í‚¤ì˜ ë¹„êµ ê²°ê³¼ëŠ” ë°©í–¥ì„±ì´ë©° ì´ ë¹„êµ ê²°ê³¼ë¥¼ ìœ ì§€í•˜ë©´ì„œ í•™ìƒë“¤ì„ ì¼ë ¬ë¡œ ë‚˜ì—´(ìœ„ìƒ ì •ë ¬) í•˜ëŠ” ê²ƒì´ ëª©í‘œì¸ ë¬¸ì œì´ë‹¤.</p>
<p>ìœ„ìƒ ì •ë ¬ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì—ëŠ” DFSì™€ ì¹¸ ì•Œê³ ë¦¬ì¦˜ ë‘ ê°€ì§€ê°€ ìˆë‹¤. </p>
<p>ë¨¼ì € DFS ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ìœ„ìƒì •ë ¬ì„ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë³´ì. DFSë¡œ ìœ„ìƒ ì •ë ¬ì„ í•˜ëŠ” ë°©ë²•ì€ ìƒê°ë³´ë‹¤ ê°„ë‹¨í•œë°, ë¨¼ì € ì¬ê·€ì ìœ¼ë¡œ postorder DFSë¥¼ êµ¬í˜„í•œë‹¤. postorderì˜ íƒìƒ‰ ê²°ê³¼ëŠ” <code>child1 - ... - childN - parent</code> ë°©ì‹ì´ë‹¤. ì´ ìˆœì„œë¥¼ ë‹¨ìˆœíˆ ë’¤ì§‘ìœ¼ë©´ ì œì•½ì´ ì—†ëŠ” parentê°€ ë¨¼ì € ì˜¤ê³ , ê·¸ ë‹¤ìŒìœ¼ë¡œ <code>parent</code>ë¼ëŠ” ì œì•½(í˜¹ì€ ê·¸ë˜í”„ì˜ ì•„ë˜ ë°©í–¥)ì„ ê°€ì§„ childë“¤ì´ ë“±ì¥í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ìœ„ìƒì •ë ¬ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</p>
<p>ì¹¸ ì•Œê³ ë¦¬ì¦˜ì€ ì§„ì¶œ ë°©í–¥ìœ¼ë¡œ ê·¸ë˜í”„ë¥¼ ì €ì¥í•˜ê³ , ì§„ì… ë°©í–¥ìœ¼ë¡œëŠ” ì§„ì…ì°¨ìˆ˜(ë…¸ë“œë³„ ì§„ì…í•˜ëŠ” ê°„ì„ ì˜ ê°œìˆ˜)ë¥¼ ì €ì¥í•´ë‘”ë‹¤. ê·¸ëŸ° ë‹¤ìŒ, ì§„ì… ì°¨ìˆ˜ê°€ 0ê°œì¸(ì¦‰ ì„ í–‰ì œì•½ì´ ì—†ëŠ”) ë…¸ë“œë¥¼ ë¨¼ì € íì— ëª¨ë‘ ë„£ê³ , íì—ì„œ ë…¸ë“œë¥¼ í•˜ë‚˜ ë½‘ì•„ ê·¸ ë…¸ë“œì™€ ë‚˜ê°€ëŠ” ë°©í–¥ìœ¼ë¡œ ì¸ì ‘í•œ(ì¦‰ ì§„ì¶œ ë°©í–¥ ê·¸ë˜í”„ì— ëŒ€í•´ ì¸ì ‘í•œ) ë…¸ë“œë“¤ì˜ ì§„ì… ì°¨ìˆ˜ë¥¼ 1ì”© ì°¨ê°í•œë‹¤. ì¸ì ‘í•œ ë…¸ë“œ ì¤‘ ì–´ë–¤ ë…¸ë“œì˜ ì§„ì… ì°¨ìˆ˜ê°€ 0ì´ ë˜ì—ˆë‹¤ë©´, íì— í•´ë‹¹ ë…¸ë“œë¥¼ ìƒˆë¡œ ë„£ëŠ”ë‹¤. ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ íê°€ ì™„ì „íˆ ë¹Œ ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤.</p>
<p><a href="https://boj.kr/2252">ğŸ”— ë¬¸ì œ ë§í¬</a></p>
<h2>ì½”ë“œ</h2>
<h3>ì¹¸ ì•Œê³ ë¦¬ì¦˜</h3>
<p>ì…ì¶œë ¥ ë¶€ë¶„ì„ ê°„ë‹¨íˆ ë³´ì. </p>
<p>N, Mì„ ì…ë ¥ë°›ì€ ë’¤ ì§„ì¶œ ë°©í–¥ì˜ ê·¸ë˜í”„ë¥¼ ì €ì¥í•  <code>graph</code> ë³€ìˆ˜, ì§„ì…ì°¨ìˆ˜ë¥¼ ì €ì¥í•  <code>indegree</code> ë³€ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤.</p>
<p>ê·¸ë˜í”„ë¥¼ ì…ë ¥ë°›ì„ ë•Œ <code>graph[a].add(b)</code>ë¥¼ í†µí•´ ì§„ì¶œ ë°©í–¥ì˜ ê·¸ë˜í”„(ì•ì— ì„œì•¼ í•˜ëŠ” í•™ìƒì—ì„œ ë’¤ì— ì„œì•¼ í•˜ëŠ” í•™ìƒìœ¼ë¡œ ì´ë™í•˜ëŠ” ë°©í–¥)ì˜ ê°„ì„ ì„ ì¶”ê°€í•œë‹¤. ë˜í•œ ì§„ì…ì°¨ìˆ˜ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ <code>indegree[b]++</code>ë¥¼ ìˆ˜í–‰í•œë‹¤. ì´ëŠ” bë¥¼ í•˜ê¸° ì „ì— ì„ í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì œì•½ì¡°ê±´ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤. </p>
<pre><code class="language-java">public static void main(String[] args) throws IOException {
    StringTokenizer st = new StringTokenizer(br.readLine());
    int N, M;

    N = Integer.parseInt(st.nextToken());
    M = Integer.parseInt(st.nextToken());

    @SuppressWarnings(&quot;unchecked&quot;)
    ArrayList&lt;Integer&gt;[] graph = new ArrayList[N+1]; // ë‚˜ê°€ëŠ” ë°©í–¥ ê·¸ë˜í”„
    int[] indegree = new int[N+1];  // ë“¤ì–´ì˜¤ëŠ” ë°©í–¥ ê·¸ë˜í”„

    for (int i = 1; i &lt;= N; i++) 
        graph[i] = new ArrayList&lt;&gt;();

    for (int i = 0; i &lt; M; i++) {
        st = new StringTokenizer(br.readLine());
        int a, b;   
        a = Integer.parseInt(st.nextToken());
        b = Integer.parseInt(st.nextToken());
        if (a == b) continue;

        graph[a].add(b);
        indegree[b]++;
    }
</code></pre>
<p>ë‹¤ìŒìœ¼ë¡œ BFSë¥¼ ìœ„í•´ íì²˜ëŸ¼ ì“¸ Dequeë¥¼ ì„ ì–¸í•œë‹¤. ë‹¤ìŒìœ¼ë¡œ <code>indegree[i] = 0</code>ì¸ ì›ì†Œë¥¼ íì— ì¶”ê°€í•œë‹¤.</p>
<pre><code class="language-java">    Deque&lt;Integer&gt; queue = new ArrayDeque&lt;&gt;();

    for (int i = 1; i &lt;= N; i++) {
        if (indegree[i] == 0)
            queue.addLast(i);
    }
</code></pre>
<p><code>sorted</code>ë°°ì—´ì„ ì„ ì–¸í•œë‹¤. ì´ ë°°ì—´ì€ ìœ„ìƒ ì •ë ¬ ê²°ê³¼ë¥¼ ì €ì¥í•´ ë‘˜ ë°°ì—´ì´ë‹¤. </p>
<p>ì´ì œ BFSë¥¼ ìˆ˜í–‰í•œë‹¤. íì—ì„œ ê°’ì„ í•˜ë‚˜ êº¼ë‚¸ ë’¤ <code>sorted[idx++] = s</code>ë¥¼ í†µí•´ ì •ë ¬ ê²°ê³¼ì— ì¶”ê°€í•œë‹¤. ê·¸ëŸ° ë‹¤ìŒ <code>s</code>ì™€ ì¸ì ‘í•œ ë…¸ë“œì˜ ì§„ì…ì°¨ìˆ˜ë¥¼ 1ì”© ê°ì†Œì‹œí‚¨ë‹¤. ë§Œì•½ ê°ì†Œí•œ ì§„ì…ì°¨ìˆ˜ê°€ 0ê³¼ ê°™ë‹¤ë©´ íì— ì¸ì ‘ ë…¸ë“œë¥¼ ì¶”ê°€í•˜ê²Œ ëœë‹¤.</p>
<pre><code class="language-java">    int[] sorted = new int[N+1];
    int idx = 0;
    while (!queue.isEmpty()) {
        int s = queue.pollFirst();
        sorted[idx++] = s;

        for (int adj : graph[s]) {
            indegree[adj]--;
            if (indegree[adj] == 0)
                queue.addLast(adj);
        }
    }
</code></pre>
<p>ë°˜ë³µë¬¸ì„ ë¹ ì ¸ë‚˜ì™”ë‹¤ë©´ ì •ë ¬ì´ ì™„ë£Œëœ ê²ƒì´ë‹¤. ì •ë ¬ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.</p>
<pre><code class="language-java">    StringBuilder sb = new StringBuilder();
    for (int i = 0; i &lt; idx; i++) {
        sb.append(sorted[i]).append(&quot; &quot;);
    }
    System.out.println(sb);
}
</code></pre>
<h3>DFS(postorder)</h3>
<p>ì…ì¶œë ¥ ë¶€ë¶„ì€ ì œì™¸í•˜ê³  ì¤‘ìš”í•œ ë¶€ë¶„ ìœ„ì£¼ë¡œ ë³´ì.</p>
<p>1ë²ˆ ë…¸ë“œë¶€í„° Në²ˆ ë…¸ë“œê¹Œì§€, ì•„ì§ ë°©ë¬¸ì²˜ë¦¬ê°€ ë˜ì§€ ì•Šì•˜ë‹¤ë©´ dfsë¥¼ í†µí•´ íƒìƒ‰ì„ ì‹œë„í•œë‹¤.</p>
<pre><code class="language-java">    for (int i = 1; i &lt;= N; i++) {
        if (!visited[i]) dfs(i, graph);
    }
</code></pre>
<p>dfs í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´, ë¨¼ì € <code>visited[node] = true</code>ë¥¼ í†µí•´ ë…¸ë“œë¥¼ ë°©ë¬¸ì²˜ë¦¬í•œë‹¤. ê·¸ëŸ° ë‹¤ìŒ ë°˜ë“œì‹œ ì¸ì ‘ ë…¸ë“œë¥¼ ë¨¼ì € í™•ì¸í•œë‹¤. ì¸ì ‘ ë…¸ë“œê°€ ë°©ë¬¸ì²˜ë¦¬ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì¸ì ‘ ë…¸ë“œì— ëŒ€í•´ dfsë¥¼ ë¨¼ì € ìˆ˜í–‰í•œë‹¤. </p>
<p>ì¸ì ‘ ë…¸ë“œì— ëŒ€í•œ íƒìƒ‰ì´ ëª¨ë‘ ëë‚˜ë©´ ë§ˆì§€ë§‰ì— <code>sorted[sortedIdx++] = node</code>ë¥¼ í†µí•´ ë…¸ë“œ ë²ˆí˜¸ë¥¼ ì €ì¥í•´ ë‘”ë‹¤.</p>
<pre><code class="language-java">static void dfs(int node, final List&lt;Integer&gt;[] graph) {
    visited[node] = true;

    for (int adj : graph[node]) {
        if (visited[adj]) continue;
        dfs(adj, graph);
    }
    sorted[sortedIdx++] = node;
}
</code></pre>
<p>ì•ì„œ ì–¸ê¸‰í–ˆë“¯, ì´ëŸ° ì‹ìœ¼ë¡œ postorder dfsë¥¼ ìˆ˜í–‰í•˜ë©´ <code>child1 - child2 - ... - childN - parent</code> ìˆœì„œê°€ ëœë‹¤. ì´ ìˆœì„œë¥¼ ë’¤ì§‘ì–´ì„œ ì¶œë ¥í•˜ë©´ ìœ„ìƒ ì •ë ¬ì˜ í˜•íƒœê°€ ë  ê²ƒì´ë‹¤.</p>
<p>ë”°ë¼ì„œ sorted ë°°ì—´ì„ ê±°ê¾¸ë¡œ ì¶œë ¥í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤. </p>
<pre><code class="language-java">    StringBuilder sb = new StringBuilder();
    for (int i = sortedIdx-1; i &gt;= 0; i--) {
        sb.append(sorted[i]).append(&quot; &quot;);
    }
    System.out.println(sb);
}
</code></pre>
<h2>ì „ì²´ ì½”ë“œ</h2>
<h3>ì¹¸ ì•Œê³ ë¦¬ì¦˜</h3>
<pre><code class="language-java">import java.util.*;
import java.io.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    public static void main(String[] args) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());
        int N, M;

        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());

        @SuppressWarnings(&quot;unchecked&quot;)
        ArrayList&lt;Integer&gt;[] graph = new ArrayList[N+1]; // ë‚˜ê°€ëŠ” ë°©í–¥ ê·¸ë˜í”„
        int[] indegree = new int[N+1];  // ë“¤ì–´ì˜¤ëŠ” ë°©í–¥ ê·¸ë˜í”„

        for (int i = 1; i &lt;= N; i++) 
            graph[i] = new ArrayList&lt;&gt;();

        for (int i = 0; i &lt; M; i++) {
            st = new StringTokenizer(br.readLine());
            int a, b;   
            a = Integer.parseInt(st.nextToken());
            b = Integer.parseInt(st.nextToken());
            if (a == b) continue;

            graph[a].add(b);
            indegree[b]++;
        }


        Deque&lt;Integer&gt; queue = new ArrayDeque&lt;&gt;();

        for (int i = 1; i &lt;= N; i++) {
            if (indegree[i] == 0)
                queue.addLast(i);
        }

        // System.out.println(ltStack);
        int[] sorted = new int[N+1];
        int idx = 0;
        while (!queue.isEmpty()) {
            int s = queue.pollFirst();
            sorted[idx++] = s;

            for (int adj : graph[s]) {
                indegree[adj]--;
                if (indegree[adj] == 0)
                    queue.addLast(adj);
            }
        }

        StringBuilder sb = new StringBuilder();
        for (int i = 0; i &lt; idx; i++) {
            sb.append(sorted[i]).append(&quot; &quot;);
        }
        System.out.println(sb);
    }
}
</code></pre>
<h3>DFS(postorder)</h3>
<pre><code class="language-java">import java.util.*;
import java.io.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));


    static int[] sorted;
    static boolean[] visited;
    static int sortedIdx = 0;
    public static void main(String[] args) throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());
        int N, M;

        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());

        @SuppressWarnings(&quot;unchecked&quot;)
        ArrayList&lt;Integer&gt;[] graph = new ArrayList[N+1]; // ë‚˜ê°€ëŠ” ë°©í–¥ ê·¸ë˜í”„

        visited = new boolean[N+1];
        sorted = new int[N+1];

        for (int i = 1; i &lt;= N; i++) 
            graph[i] = new ArrayList&lt;&gt;();

        for (int i = 0; i &lt; M; i++) {
            st = new StringTokenizer(br.readLine());
            int a, b;   
            a = Integer.parseInt(st.nextToken());
            b = Integer.parseInt(st.nextToken());
            if (a == b) continue;

            graph[a].add(b);
        }


        for (int i = 1; i &lt;= N; i++) {
            if (!visited[i]) dfs(i, graph);
        }

        StringBuilder sb = new StringBuilder();
        for (int i = sortedIdx-1; i &gt;= 0; i--) {
            sb.append(sorted[i]).append(&quot; &quot;);
        }
        System.out.println(sb);
    }

    static void dfs(int node, final List&lt;Integer&gt;[] graph) {
        visited[node] = true;

        for (int adj : graph[node]) {
            if (visited[adj]) continue;
            dfs(adj, graph);
        }
        sorted[sortedIdx++] = node;
    }
}
</code></pre>
<h2>ì‹œê°„ë³µì¡ë„</h2>
<p>ë‘ ë°©ë²• ëª¨ë‘ ëª¨ë“  ì •ì ê³¼ ëª¨ë“  ê°„ì„ ì„ í•œ ë²ˆì”© ë°©ë¬¸í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ ëŒ€ëµ $O(V+E)$ê°€ ë  ê²ƒì´ë‹¤. </p>
<p>ì´ ë¬¸ì œì—ì„œ $V=N$, $E=M$ì´ë¯€ë¡œ ì‹œê°„ë³µì¡ë„ëŠ” $O(N+M)$ì´ë‹¤. ìµœì•…ì˜ ê²½ìš°ì—ë„ $N+M = 132,000$ì´ë¯€ë¡œ 2ì´ˆ ë‚´ì— ë¬´ë‚œí•˜ê²Œ í†µê³¼í•  ìˆ˜ ìˆë‹¤.</p>

        <script>
          location.href = "/post-view?href=posts%2FPS%2F2026-01-26-%EB%B0%B1%EC%A4%80-2252-%EC%A4%84-%EC%84%B8%EC%9A%B0%EA%B8%B0.md"
        </script>
      </body>
  