
      <html lang="ko">
      <head>
        <title>10942 - íŒ°ë¦°ë“œë¡¬?</title>
        <link rel="canonical" href="http://yuyeol3.github.io/"/>
        <meta charset="utf-8"/>
        <meta name="description" content="ì´ ë¬¸ì œëŠ” ê¸¸ì´ê°€ Nì¸ ì–´ë–¤ ìˆ˜ì—´ì´ ì£¼ì–´ì¡Œì„ ë•Œ, `[S, E]`ê°€ íšŒë¬¸ì¸ì§€ì— ëŒ€í•œ Mê°œì˜ ì§ˆì˜ì— ëŒ€í•´ ë‹µí•´ì•¼ í•œë‹¤.">
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      </head>
      <body style="display : none;">
        
        <h1>10942 - íŒ°ë¦°ë“œë¡¬?</h1>
<p>ì´ ë¬¸ì œëŠ” ê¸¸ì´ê°€ Nì¸ ì–´ë–¤ ìˆ˜ì—´ì´ ì£¼ì–´ì¡Œì„ ë•Œ, <code>[S, E]</code>ê°€ íšŒë¬¸ì¸ì§€ì— ëŒ€í•œ Mê°œì˜ ì§ˆì˜ì— ëŒ€í•´ ë‹µí•´ì•¼ í•œë‹¤. </p>
<p>ë§Œì•½ ì´ ë¬¸ì œë¥¼ ë‹¨ìˆœíˆ í•˜ë‚˜ì˜ ì§ˆì˜ë§ˆë‹¤ <code>[S,E]</code>ê¹Œì§€ê°€ íšŒë¬¸ì¸ì§€ í™•ì¸í•´ ë‹µë³€í•œë‹¤ë©´, ìµœì•…ì˜ ê²½ìš° NMë²ˆì˜ ê³„ì‚°ì„ í•  ê²ƒì´ê³  ê·¸ ê²°ê³¼ ì‹œê°„ì œí•œì— ê±¸ë¦´ ê²ƒì´ë‹¤. ë”°ë¼ì„œ ì´ê²ƒë³´ë‹¤ íš¨ìœ¨ì ì¸ ë°©ë²•ì„ ìƒê°í•´ ë‚´ì•¼ í•œë‹¤.</p>
<p>ì—¬ê¸°ì„œ íšŒë¬¸ì˜ ì„±ì§ˆì„ ìƒê°í•´ë³´ì. íšŒë¬¸ì€ ë¬¸ìì—´ì˜ ì¤‘ì‹¬ì„ ê¸°ì¤€ìœ¼ë¡œ ì¢Œ, ìš°ê°€ ëŒ€ì¹­ì¸ ë¬¸ìì—´ì´ë‹¤. ì¦‰ ì•„ë˜ì™€ ê°™ì€ í˜•íƒœì´ë‹¤.</p>
<pre><code>1 2 3 4 5 4 3 2 1
</code></pre>
<p>ì´ëŸ¬í•œ ì„±ì§ˆì„ ì´ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì í™”ì‹ì„ ë– ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.</p>
<ol>
<li><code>S == E</code>, ì¦‰ ìˆ˜ì—´ì˜ ê¸¸ì´ê°€ 1ì´ë©´ íšŒë¬¸ì´ë‹¤.</li>
<li><code>S + 1 == E</code>, ì¦‰ ìˆ˜ì—´ì˜ ê¸¸ì´ê°€ 2ì´ë©´ ë‘ ìˆ«ìê°€ ê°™ì„ ë•Œ íšŒë¬¸ì´ë‹¤.</li>
<li><code>S + 1 &lt; E</code>, ì¦‰ ìˆ˜ì—´ì˜ ê¸¸ì´ê°€ 2ë³´ë‹¤ í¬ë©´ <code>[S+1, E-1]</code>ì´ íšŒë¬¸ì´ë©´ì„œ Së²ˆì§¸ ìˆ«ìì™€ Eë²ˆì§¸ ìˆ«ìê°€ ê°™ì„ ë•Œ íšŒë¬¸ì´ë‹¤.</li>
</ol>
<p>ê·¸ëŸ¬ë‚˜ ë˜ í•˜ë‚˜ì˜ ê³ ë¯¼ì€ ì í™”ì‹ì„ ì–´ë–¤ ìˆœì„œë¡œ ê³„ì‚°í•´ì•¼ í•˜ëŠ”ê°€ì´ë‹¤. ì´ë¥¼ íƒêµ¬í•˜ê¸° ìœ„í•´ ì•„ë˜ í‘œë¥¼ ë³´ì. ì•„ë˜ í‘œëŠ” <code>dp[s][e]</code>ë¥¼ ê³„ì‚°í•  ë•Œ ì°¸ì¡°í•´ì•¼ í•˜ëŠ” ì´ì „ (s,e)ë¥¼ ì‘ì„±í•´ ë†“ì€ í‘œì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ <code>dp[2][5]</code>ë¥¼ ì•Œì•„ë‚´ê³  ì‹¶ë‹¤ë©´ <code>dp[3][4]</code>ì˜ ê°’ì„ ì°¸ì¡°í•´ì•¼ í•œë‹¤. ë˜í•œ xí‘œì‹œëŠ” ì´ì „ dpê°’ì„ ì°¸ì¡°í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ëœ»ì´ë‹¤. ìˆ˜ì—´ì˜ ê¸¸ì´ê°€ 1ê°œì´ê±°ë‚˜ 2ê°œì´ë©´ ë‚´ë¶€ì— ìˆ˜ì—´ì´ ë” ì—†ê¸° ë•Œë¬¸ì´ë‹¤.</p>
<table>
<thead>
<tr>
<th>S\E</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>x</td>
<td>x</td>
<td>(2,2)</td>
<td>(2,3)</td>
<td>(2,4)</td>
</tr>
<tr>
<td>2</td>
<td></td>
<td>x</td>
<td>x</td>
<td>(3,3)</td>
<td>(3,4)</td>
</tr>
<tr>
<td>3</td>
<td></td>
<td></td>
<td>x</td>
<td>x</td>
<td>(4,4)</td>
</tr>
<tr>
<td>4</td>
<td></td>
<td></td>
<td></td>
<td>x</td>
<td>x</td>
</tr>
<tr>
<td>5</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
</tr>
</tbody></table>
<p>ìœ„ í‘œë¥¼ ê´€ì°°í•´ ë³´ë©´ <code>S=3</code> ì€ <code>S=4</code>ë¥¼ ì°¸ì¡°í•˜ê³ , <code>S=2</code>ëŠ” <code>S=3</code>ì„ ì°¸ì¡°í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. í•œí¸ <code>E</code> ê¸°ì¤€ìœ¼ë¡œëŠ” <code>E=5</code>ì¼ ë•Œ <code>E=4</code>ë¥¼ ì°¸ì¡°í•˜ê³ , <code>E=3</code>ì¼ ë•Œ <code>E=2</code>ë¥¼ ì°¸ì¡°í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ S ê¸°ì¤€ìœ¼ë¡œëŠ” ì—­í–‰, E ê¸°ì¤€ìœ¼ë¡œëŠ” ìˆœí–‰ìœ¼ë¡œ ë°˜ë³µë¬¸ì„ ëŒë©´ ëœë‹¤. ì¦‰ SëŠ” 5ë¶€í„° 1ê¹Œì§€, EëŠ” Së¶€í„° 5ê¹Œì§€ ì¤‘ì²© forë¬¸ì„ ëŒë¦¬ë©´ ëœë‹¤.</p>
<p><a href="https://www.acmicpc.net/problem/10942">ğŸ”— ë¬¸ì œ ì½”ë“œ</a></p>
<h2>ì½”ë“œ</h2>
<p>í•„ìš”í•œ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤. <code>dp</code>ëŠ” ì í™”ì‹ì˜ ê²°ê³¼ë¥¼ ë‹´ì„ ë°°ì—´ì´ê³ , <code>nums</code>ëŠ” ìˆ˜ì—´ì˜ ì›ì†Œë“¤ì„ ë‹´ì•„ë†“ì„ ë°°ì—´ì´ë‹¤. </p>
<pre><code class="language-java">class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static boolean[][] dp;
    static int[] nums;
</code></pre>
<p>ë©”ì¸ ë©”ì„œë“œì—ì„œ <code>n</code>ì„ ì…ë ¥ë°›ì€ ë’¤, <code>nums</code> ë°°ì—´ê³¼ <code>dp</code> ë°°ì—´ì„ ë©”ëª¨ë¦¬ì— í• ë‹¹í•œë‹¤. ê·¸ëŸ° ë‹¤ìŒ ìˆ˜ì—´ ì •ë³´ë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤.</p>
<pre><code class="language-java">public static void main(String[] args) throws IOException {
    int n = Integer.parseInt(br.readLine());
    nums = new int[n+1];
    dp = new boolean[n+1][n+1];
    StringTokenizer st = new StringTokenizer(br.readLine());
    for (int i = 1; i &lt;= n; i++)
        nums[i] = Integer.parseInt(st.nextToken());
</code></pre>
<p>ì•ì„œ ë§í–ˆë˜ ê·œì¹™ì— ë”°ë¼ ì í™”ì‹ì„ ê³„ì‚°í•œë‹¤. ë¨¼ì € ë¬¸ìì—´ì˜ ê¸¸ì´ê°€ 1ì¸ ê²½ìš° í•­ìƒ íšŒë¬¸ìœ¼ë¡œ ë¶ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¨¼ì € <code>dp[i][i] = true</code>ë¡œ ì €ì¥í•´ ë‘”ë‹¤. ê·¸ëŸ° ë‹¤ìŒ <code>i = n .. 1</code>ê¹Œì§€, <code>j = i+1 .. n</code>ê¹Œì§€ ë°˜ë³µí•˜ë©° ì í™”ì‹ì„ ê³„ì‚°í•œë‹¤.</p>
<p>ì í™”ì‹ì˜ ì˜ë¯¸ëŠ” <code>i+1 == j</code> ì´ë©´ <code>nums[i] == nums[j]</code>ë¥¼ ê³„ì‚°í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ <code>dp[i+1][j-1]</code>ê³¼ <code>nums[i] == nums[j]</code>ê°€ ëª¨ë‘ ì°¸ì¸ì§€ í™•ì¸í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.</p>
<pre><code class="language-java">    for (int i = 1; i &lt;= n; i++) 
        dp[i][i] = true;

    for (int i = n; i &gt;= 1; i--) {
        for (int j = i+1; j &lt;= n; j++) {
            dp[i][j] = (i+1 == j || dp[i+1][j-1]) &amp;&amp; (nums[i] == nums[j]);
        }
    }
</code></pre>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ mê°œì˜ ì§ˆì˜ë¥¼ ì…ë ¥ë°›ì•„ <code>dp</code> ë°°ì—´ì„ í†µí•´ íšŒë¬¸ ì—¬ë¶€ë¥¼ íŒë³„í•œ ë’¤ ê·¸ ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.</p>
<pre><code class="language-java">    int m = Integer.parseInt(br.readLine());
    StringBuilder sb = new StringBuilder();
    for (int i = 0; i &lt; m; i++) {
        st = new StringTokenizer(br.readLine());
        int s, e;

        s = Integer.parseInt(st.nextToken());
        e = Integer.parseInt(st.nextToken());

        sb.append(dp[s][e] ? 1 : 0).append(&quot;\n&quot;);

    }  
    System.out.print(sb);
}
</code></pre>
<h2>ì „ì²´ ì½”ë“œ</h2>
<pre><code class="language-java">import java.util.*;
import java.io.*;

class Main {
    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static boolean[][] dp;
    static int[] nums;

    public static void main(String[] args) throws IOException {
        int n = Integer.parseInt(br.readLine());
        nums = new int[n+1];
        dp = new boolean[n+1][n+1];
        StringTokenizer st = new StringTokenizer(br.readLine());
        for (int i = 1; i &lt;= n; i++)
            nums[i] = Integer.parseInt(st.nextToken());


        for (int i = 1; i &lt;= n; i++) 
            dp[i][i] = true;

        for (int i = n; i &gt;= 1; i--) {
            for (int j = i+1; j &lt;= n; j++) {
                dp[i][j] = (i+1 == j || dp[i+1][j-1]) &amp;&amp; (nums[i] == nums[j]);
            }
        }

        int m = Integer.parseInt(br.readLine());
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i &lt; m; i++) {
            st = new StringTokenizer(br.readLine());
            int s, e;

            s = Integer.parseInt(st.nextToken());
            e = Integer.parseInt(st.nextToken());

            sb.append(dp[s][e] ? 1 : 0).append(&quot;\n&quot;);

        }  
        System.out.print(sb);
    }
}
</code></pre>
<h2>ì‹œê°„ë³µì¡ë„</h2>
<p>dp ë°°ì—´ì„ ì™„ì„±í•˜ëŠ” ë° $O(N^2)$, $M$ê°œì˜ ì§ˆì˜ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” ë° $O(M)$ì˜ ì‹œê°„ë³µì¡ë„ê°€ ê±¸ë¦°ë‹¤. ë”°ë¼ì„œ ì´ ì½”ë“œì˜ ì‹œê°„ë³µì¡ë„ëŠ” $O(N^2 + M)$ì´ë‹¤. </p>
<p>$N \le 2,000$, $M \le 1,000,000$ ì´ë¯€ë¡œ ìµœì•…ì˜ ê²½ìš° <code>4,000,000 + 1,000,000 = 5,000,000</code>ë²ˆ, ì¦‰ 5ë°±ë§Œë²ˆ ì—°ì‚°í•˜ê²Œ ëœë‹¤. ì´ëŠ” 0.5ì´ˆ ë‚´ ì¶©ë¶„íˆ í†µê³¼í•  ìˆ˜ ìˆëŠ” ì—°ì‚° íšŸìˆ˜ì´ë‹¤.</p>

        <script>
          location.href = "/post-view?href=posts%2FPS%2F2026-02-04-%EB%B0%B1%EC%A4%80-10942-%ED%8C%B0%EB%A6%B0%EB%93%9C%EB%A1%AC%EF%BC%9F.md"
        </script>
      </body>
  